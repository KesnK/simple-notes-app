import{a as H}from"./chunk-GNZIDRIB.js";import"./chunk-Z2ILHMVL.js";import{A as w,Aa as j,B as C,Ba as R,C as s,Ca as B,D as t,E as o,Ea as F,F as y,Fa as D,Ga as N,H as u,Ha as z,J as a,M as h,N as f,O as _,R as I,S as v,W as M,_ as P,ba as b,ea as S,ka as E,ma as x,na as L,oa as O,ra as T,sa as k,w as d,wa as W,z as m,za as A}from"./chunk-3L7FN3TJ.js";import"./chunk-OAW7DXZK.js";import"./chunk-M2YEVG4H.js";import"./chunk-M2APQA33.js";import"./chunk-M5H3FBXE.js";import"./chunk-UQSJFG5S.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{f as p}from"./chunk-D7YYRZS5.js";function U(c,l){c&1&&y(0,"ion-spinner",12)}function V(c,l){c&1&&(t(0,"span"),a(1,"Sign In"),o())}var ne=(()=>{let l=class l{constructor(n,i,e,g,r){this.authService=n,this.router=i,this.loadingController=e,this.alertController=g,this.toastController=r,this.credentials={email:"",password:""},this.isLoading=!1}onLogin(){return p(this,null,function*(){if(!this.validateForm())return;this.isLoading=!0;let n=yield this.loadingController.create({message:"Signing in...",spinner:"crescent"});yield n.present();try{yield this.authService.login(this.credentials),yield n.dismiss(),yield(yield this.toastController.create({message:"Welcome back!",duration:2e3,color:"success",position:"top"})).present(),this.router.navigate(["/notes"],{replaceUrl:!0})}catch(i){yield n.dismiss(),yield this.showErrorAlert(i.message)}this.isLoading=!1})}navigateToRegister(){this.router.navigate(["/register"])}validateForm(){return this.credentials.email.trim()?this.credentials.password?this.isValidEmail(this.credentials.email)?!0:(this.showErrorAlert("Please enter a valid email address."),!1):(this.showErrorAlert("Please enter your password."),!1):(this.showErrorAlert("Please enter your email address."),!1)}isValidEmail(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}showErrorAlert(n){return p(this,null,function*(){yield(yield this.alertController.create({header:"Error",message:n,buttons:["OK"]})).present()})}};l.\u0275fac=function(i){return new(i||l)(m(H),m(M),m(D),m(F),m(N))},l.\u0275cmp=w({type:l,selectors:[["app-login"]],decls:30,vars:9,consts:[[3,"translucent"],[1,"ion-padding",3,"fullscreen"],[1,"login-container"],[1,"welcome-section"],["position","stacked"],["type","email","placeholder","Enter your email",3,"ngModelChange","ngModel","clearInput"],["type","password","placeholder","Enter your password",3,"ngModelChange","ngModel","clearInput"],["expand","block",1,"login-button",3,"click","disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],[1,"register-section"],["fill","clear","size","small",3,"click"],["name","crescent"]],template:function(i,e){i&1&&(t(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),a(3,"Login"),o()()(),t(4,"ion-content",1)(5,"div",2)(6,"div",3)(7,"h1"),a(8,"Welcome Back"),o(),t(9,"p"),a(10,"Sign in to access your notes"),o()(),t(11,"ion-card")(12,"ion-card-content")(13,"ion-item")(14,"ion-label",4),a(15,"Email"),o(),t(16,"ion-input",5),_("ngModelChange",function(r){return f(e.credentials.email,r)||(e.credentials.email=r),r}),o()(),t(17,"ion-item")(18,"ion-label",4),a(19,"Password"),o(),t(20,"ion-input",6),_("ngModelChange",function(r){return f(e.credentials.password,r)||(e.credentials.password=r),r}),o()(),t(21,"ion-button",7),u("click",function(){return e.onLogin()}),C(22,U,1,0,"ion-spinner",8)(23,V,2,0,"span",9),o()()(),t(24,"div",10)(25,"ion-text")(26,"p"),a(27,"Don't have an account? "),t(28,"ion-button",11),u("click",function(){return e.navigateToRegister()}),a(29," Sign Up "),o()()()()()()),i&2&&(s("translucent",!0),d(4),s("fullscreen",!0),d(12),h("ngModel",e.credentials.email),s("clearInput",!0),d(4),h("ngModel",e.credentials.password),s("clearInput",!0),d(),s("disabled",e.isLoading),d(),s("ngIf",e.isLoading),d(),s("ngIf",!e.isLoading))},dependencies:[v,I,S,P,b,O,T,R,B,x,L,k,W,z,E,j,A],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;min-height:100%;max-width:400px;margin:0 auto}.welcome-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:2rem;font-weight:700;margin:0}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:.5rem 0 0}ion-card[_ngcontent-%COMP%]{margin:0;box-shadow:0 4px 16px #0000001a}ion-item[_ngcontent-%COMP%]{--border-width: 0 0 1px 0;--border-color: var(--ion-color-light);margin-bottom:1rem}.login-button[_ngcontent-%COMP%]{margin-top:1.5rem;--border-radius: 8px;height:48px}.register-section[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem}.register-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:0}.register-section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--ion-color-primary);font-weight:500}ion-spinner[_ngcontent-%COMP%]{margin-right:8px}"]});let c=l;return c})();export{ne as LoginPage};
