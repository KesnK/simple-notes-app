import{a as K}from"./chunk-GNZIDRIB.js";import"./chunk-Z2ILHMVL.js";import{A as _,Aa as F,B as C,Ba as x,C as s,Ca as D,D as i,E as n,Ea as H,F as w,Fa as V,Ga as z,H as y,Ha as G,J as o,M as u,N as g,O as h,R as I,S as E,W as S,_ as M,ba as P,ea as v,ha as b,ka as T,la as A,ma as L,na as R,oa as W,ra as k,sa as N,w as l,wa as B,z as p,za as j}from"./chunk-3L7FN3TJ.js";import"./chunk-OAW7DXZK.js";import"./chunk-M2YEVG4H.js";import"./chunk-M2APQA33.js";import"./chunk-M5H3FBXE.js";import"./chunk-UQSJFG5S.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{f}from"./chunk-D7YYRZS5.js";function O(c,d){c&1&&w(0,"ion-spinner",16)}function U(c,d){c&1&&(i(0,"span"),o(1,"Create Account"),n())}var ie=(()=>{let d=class d{constructor(r,a,e,m,t){this.authService=r,this.router=a,this.loadingController=e,this.alertController=m,this.toastController=t,this.credentials={email:"",password:"",displayName:""},this.confirmPassword="",this.isLoading=!1}onRegister(){return f(this,null,function*(){if(!this.validateForm())return;this.isLoading=!0;let r=yield this.loadingController.create({message:"Creating account...",spinner:"crescent"});yield r.present();try{yield this.authService.register(this.credentials),yield r.dismiss(),yield(yield this.toastController.create({message:"Account created successfully! Welcome!",duration:3e3,color:"success",position:"top"})).present(),this.router.navigate(["/notes"],{replaceUrl:!0})}catch(a){yield r.dismiss(),yield this.showErrorAlert(a.message)}this.isLoading=!1})}navigateToLogin(){this.router.navigate(["/login"])}validateForm(){return this.credentials.email.trim()?this.isValidEmail(this.credentials.email)?this.credentials.displayName?.trim()?this.credentials.password?this.credentials.password.length<6?(this.showErrorAlert("Password must be at least 6 characters long."),!1):this.credentials.password!==this.confirmPassword?(this.showErrorAlert("Passwords do not match."),!1):!0:(this.showErrorAlert("Please enter a password."),!1):(this.showErrorAlert("Please enter your display name."),!1):(this.showErrorAlert("Please enter a valid email address."),!1):(this.showErrorAlert("Please enter your email address."),!1)}isValidEmail(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}showErrorAlert(r){return f(this,null,function*(){yield(yield this.alertController.create({header:"Error",message:r,buttons:["OK"]})).present()})}};d.\u0275fac=function(a){return new(a||d)(p(K),p(S),p(V),p(H),p(z))},d.\u0275cmp=_({type:d,selectors:[["app-register"]],decls:40,vars:13,consts:[[3,"translucent"],["slot","start"],["defaultHref","/login"],[1,"ion-padding",3,"fullscreen"],[1,"register-container"],[1,"welcome-section"],["position","stacked"],["type","text","placeholder","Enter your name",3,"ngModelChange","ngModel","clearInput"],["type","email","placeholder","Enter your email",3,"ngModelChange","ngModel","clearInput"],["type","password","placeholder","Enter your password",3,"ngModelChange","ngModel","clearInput"],["type","password","placeholder","Confirm your password",3,"ngModelChange","ngModel","clearInput"],["expand","block",1,"register-button",3,"click","disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],[1,"login-section"],["fill","clear","size","small",3,"click"],["name","crescent"]],template:function(a,e){a&1&&(i(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),w(3,"ion-back-button",2),n(),i(4,"ion-title"),o(5,"Create Account"),n()()(),i(6,"ion-content",3)(7,"div",4)(8,"div",5)(9,"h1"),o(10,"Get Started"),n(),i(11,"p"),o(12,"Create your account to start taking notes"),n()(),i(13,"ion-card")(14,"ion-card-content")(15,"ion-item")(16,"ion-label",6),o(17,"Display Name"),n(),i(18,"ion-input",7),h("ngModelChange",function(t){return g(e.credentials.displayName,t)||(e.credentials.displayName=t),t}),n()(),i(19,"ion-item")(20,"ion-label",6),o(21,"Email"),n(),i(22,"ion-input",8),h("ngModelChange",function(t){return g(e.credentials.email,t)||(e.credentials.email=t),t}),n()(),i(23,"ion-item")(24,"ion-label",6),o(25,"Password"),n(),i(26,"ion-input",9),h("ngModelChange",function(t){return g(e.credentials.password,t)||(e.credentials.password=t),t}),n()(),i(27,"ion-item")(28,"ion-label",6),o(29,"Confirm Password"),n(),i(30,"ion-input",10),h("ngModelChange",function(t){return g(e.confirmPassword,t)||(e.confirmPassword=t),t}),n()(),i(31,"ion-button",11),y("click",function(){return e.onRegister()}),C(32,O,1,0,"ion-spinner",12)(33,U,2,0,"span",13),n()()(),i(34,"div",14)(35,"ion-text")(36,"p"),o(37,"Already have an account? "),i(38,"ion-button",15),y("click",function(){return e.navigateToLogin()}),o(39," Sign In "),n()()()()()()),a&2&&(s("translucent",!0),l(6),s("fullscreen",!0),l(12),u("ngModel",e.credentials.displayName),s("clearInput",!0),l(4),u("ngModel",e.credentials.email),s("clearInput",!0),l(4),u("ngModel",e.credentials.password),s("clearInput",!0),l(4),u("ngModel",e.confirmPassword),s("clearInput",!0),l(),s("disabled",e.isLoading),l(),s("ngIf",e.isLoading),l(),s("ngIf",!e.isLoading))},dependencies:[E,I,v,M,P,W,k,x,D,L,R,N,B,G,T,F,j,b,A],encapsulation:2});let c=d;return c})();export{ie as RegisterPage};
