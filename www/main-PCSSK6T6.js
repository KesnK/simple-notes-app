import{B as bs,C as Ss,E as Rs,a as es,b as ns,c as rs,d as ss,e as is,f as os,g as as,h as us,i as Pe,j as cs,k as ls,l as hs,m as ds,n as fs,o as ms,p as te,q as gs,r as ps,s as ys,t as _s,u as ws,v as vs,w as Is,x as Ts,y as Es,z as As}from"./chunk-Z2ILHMVL.js";import{A as jr,D as $r,Da as ts,E as zr,F as Gr,T as Kr,V as Qr,X as Wr,Y as Hr,Z as Xr,fa as Jr,ga as Yr,ia as Zr,k as Lr,n as qr,s as Ur,u as Zt,x as Br}from"./chunk-3L7FN3TJ.js";import"./chunk-OAW7DXZK.js";import"./chunk-M2YEVG4H.js";import"./chunk-M2APQA33.js";import"./chunk-M5H3FBXE.js";import"./chunk-UQSJFG5S.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{f as Rt}from"./chunk-D7YYRZS5.js";var Ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vs={};var Ve,Cs;(function(){var i;function e(g,u){function l(){}l.prototype=u.prototype,g.D=u.prototype,g.prototype=new l,g.prototype.constructor=g,g.C=function(d,f,p){for(var c=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)c[nt-2]=arguments[nt];return u.prototype[f].apply(d,c)}}function s(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,s),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function h(g,u,l){l||(l=0);var d=Array(16);if(typeof u=="string")for(var f=0;16>f;++f)d[f]=u.charCodeAt(l++)|u.charCodeAt(l++)<<8|u.charCodeAt(l++)<<16|u.charCodeAt(l++)<<24;else for(f=0;16>f;++f)d[f]=u[l++]|u[l++]<<8|u[l++]<<16|u[l++]<<24;u=g.g[0],l=g.g[1],f=g.g[2];var p=g.g[3],c=u+(p^l&(f^p))+d[0]+3614090360&4294967295;u=l+(c<<7&4294967295|c>>>25),c=p+(f^u&(l^f))+d[1]+3905402710&4294967295,p=u+(c<<12&4294967295|c>>>20),c=f+(l^p&(u^l))+d[2]+606105819&4294967295,f=p+(c<<17&4294967295|c>>>15),c=l+(u^f&(p^u))+d[3]+3250441966&4294967295,l=f+(c<<22&4294967295|c>>>10),c=u+(p^l&(f^p))+d[4]+4118548399&4294967295,u=l+(c<<7&4294967295|c>>>25),c=p+(f^u&(l^f))+d[5]+1200080426&4294967295,p=u+(c<<12&4294967295|c>>>20),c=f+(l^p&(u^l))+d[6]+2821735955&4294967295,f=p+(c<<17&4294967295|c>>>15),c=l+(u^f&(p^u))+d[7]+4249261313&4294967295,l=f+(c<<22&4294967295|c>>>10),c=u+(p^l&(f^p))+d[8]+1770035416&4294967295,u=l+(c<<7&4294967295|c>>>25),c=p+(f^u&(l^f))+d[9]+2336552879&4294967295,p=u+(c<<12&4294967295|c>>>20),c=f+(l^p&(u^l))+d[10]+4294925233&4294967295,f=p+(c<<17&4294967295|c>>>15),c=l+(u^f&(p^u))+d[11]+2304563134&4294967295,l=f+(c<<22&4294967295|c>>>10),c=u+(p^l&(f^p))+d[12]+1804603682&4294967295,u=l+(c<<7&4294967295|c>>>25),c=p+(f^u&(l^f))+d[13]+4254626195&4294967295,p=u+(c<<12&4294967295|c>>>20),c=f+(l^p&(u^l))+d[14]+2792965006&4294967295,f=p+(c<<17&4294967295|c>>>15),c=l+(u^f&(p^u))+d[15]+1236535329&4294967295,l=f+(c<<22&4294967295|c>>>10),c=u+(f^p&(l^f))+d[1]+4129170786&4294967295,u=l+(c<<5&4294967295|c>>>27),c=p+(l^f&(u^l))+d[6]+3225465664&4294967295,p=u+(c<<9&4294967295|c>>>23),c=f+(u^l&(p^u))+d[11]+643717713&4294967295,f=p+(c<<14&4294967295|c>>>18),c=l+(p^u&(f^p))+d[0]+3921069994&4294967295,l=f+(c<<20&4294967295|c>>>12),c=u+(f^p&(l^f))+d[5]+3593408605&4294967295,u=l+(c<<5&4294967295|c>>>27),c=p+(l^f&(u^l))+d[10]+38016083&4294967295,p=u+(c<<9&4294967295|c>>>23),c=f+(u^l&(p^u))+d[15]+3634488961&4294967295,f=p+(c<<14&4294967295|c>>>18),c=l+(p^u&(f^p))+d[4]+3889429448&4294967295,l=f+(c<<20&4294967295|c>>>12),c=u+(f^p&(l^f))+d[9]+568446438&4294967295,u=l+(c<<5&4294967295|c>>>27),c=p+(l^f&(u^l))+d[14]+3275163606&4294967295,p=u+(c<<9&4294967295|c>>>23),c=f+(u^l&(p^u))+d[3]+4107603335&4294967295,f=p+(c<<14&4294967295|c>>>18),c=l+(p^u&(f^p))+d[8]+1163531501&4294967295,l=f+(c<<20&4294967295|c>>>12),c=u+(f^p&(l^f))+d[13]+2850285829&4294967295,u=l+(c<<5&4294967295|c>>>27),c=p+(l^f&(u^l))+d[2]+4243563512&4294967295,p=u+(c<<9&4294967295|c>>>23),c=f+(u^l&(p^u))+d[7]+1735328473&4294967295,f=p+(c<<14&4294967295|c>>>18),c=l+(p^u&(f^p))+d[12]+2368359562&4294967295,l=f+(c<<20&4294967295|c>>>12),c=u+(l^f^p)+d[5]+4294588738&4294967295,u=l+(c<<4&4294967295|c>>>28),c=p+(u^l^f)+d[8]+2272392833&4294967295,p=u+(c<<11&4294967295|c>>>21),c=f+(p^u^l)+d[11]+1839030562&4294967295,f=p+(c<<16&4294967295|c>>>16),c=l+(f^p^u)+d[14]+4259657740&4294967295,l=f+(c<<23&4294967295|c>>>9),c=u+(l^f^p)+d[1]+2763975236&4294967295,u=l+(c<<4&4294967295|c>>>28),c=p+(u^l^f)+d[4]+1272893353&4294967295,p=u+(c<<11&4294967295|c>>>21),c=f+(p^u^l)+d[7]+4139469664&4294967295,f=p+(c<<16&4294967295|c>>>16),c=l+(f^p^u)+d[10]+3200236656&4294967295,l=f+(c<<23&4294967295|c>>>9),c=u+(l^f^p)+d[13]+681279174&4294967295,u=l+(c<<4&4294967295|c>>>28),c=p+(u^l^f)+d[0]+3936430074&4294967295,p=u+(c<<11&4294967295|c>>>21),c=f+(p^u^l)+d[3]+3572445317&4294967295,f=p+(c<<16&4294967295|c>>>16),c=l+(f^p^u)+d[6]+76029189&4294967295,l=f+(c<<23&4294967295|c>>>9),c=u+(l^f^p)+d[9]+3654602809&4294967295,u=l+(c<<4&4294967295|c>>>28),c=p+(u^l^f)+d[12]+3873151461&4294967295,p=u+(c<<11&4294967295|c>>>21),c=f+(p^u^l)+d[15]+530742520&4294967295,f=p+(c<<16&4294967295|c>>>16),c=l+(f^p^u)+d[2]+3299628645&4294967295,l=f+(c<<23&4294967295|c>>>9),c=u+(f^(l|~p))+d[0]+4096336452&4294967295,u=l+(c<<6&4294967295|c>>>26),c=p+(l^(u|~f))+d[7]+1126891415&4294967295,p=u+(c<<10&4294967295|c>>>22),c=f+(u^(p|~l))+d[14]+2878612391&4294967295,f=p+(c<<15&4294967295|c>>>17),c=l+(p^(f|~u))+d[5]+4237533241&4294967295,l=f+(c<<21&4294967295|c>>>11),c=u+(f^(l|~p))+d[12]+1700485571&4294967295,u=l+(c<<6&4294967295|c>>>26),c=p+(l^(u|~f))+d[3]+2399980690&4294967295,p=u+(c<<10&4294967295|c>>>22),c=f+(u^(p|~l))+d[10]+4293915773&4294967295,f=p+(c<<15&4294967295|c>>>17),c=l+(p^(f|~u))+d[1]+2240044497&4294967295,l=f+(c<<21&4294967295|c>>>11),c=u+(f^(l|~p))+d[8]+1873313359&4294967295,u=l+(c<<6&4294967295|c>>>26),c=p+(l^(u|~f))+d[15]+4264355552&4294967295,p=u+(c<<10&4294967295|c>>>22),c=f+(u^(p|~l))+d[6]+2734768916&4294967295,f=p+(c<<15&4294967295|c>>>17),c=l+(p^(f|~u))+d[13]+1309151649&4294967295,l=f+(c<<21&4294967295|c>>>11),c=u+(f^(l|~p))+d[4]+4149444226&4294967295,u=l+(c<<6&4294967295|c>>>26),c=p+(l^(u|~f))+d[11]+3174756917&4294967295,p=u+(c<<10&4294967295|c>>>22),c=f+(u^(p|~l))+d[2]+718787259&4294967295,f=p+(c<<15&4294967295|c>>>17),c=l+(p^(f|~u))+d[9]+3951481745&4294967295,g.g[0]=g.g[0]+u&4294967295,g.g[1]=g.g[1]+(f+(c<<21&4294967295|c>>>11))&4294967295,g.g[2]=g.g[2]+f&4294967295,g.g[3]=g.g[3]+p&4294967295}a.prototype.u=function(g,u){u===void 0&&(u=g.length);for(var l=u-this.blockSize,d=this.B,f=this.h,p=0;p<u;){if(f==0)for(;p<=l;)h(this,g,p),p+=this.blockSize;if(typeof g=="string"){for(;p<u;)if(d[f++]=g.charCodeAt(p++),f==this.blockSize){h(this,d),f=0;break}}else for(;p<u;)if(d[f++]=g[p++],f==this.blockSize){h(this,d),f=0;break}}this.h=f,this.o+=u},a.prototype.v=function(){var g=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);g[0]=128;for(var u=1;u<g.length-8;++u)g[u]=0;var l=8*this.o;for(u=g.length-8;u<g.length;++u)g[u]=l&255,l/=256;for(this.u(g),g=Array(16),u=l=0;4>u;++u)for(var d=0;32>d;d+=8)g[l++]=this.g[u]>>>d&255;return g};function _(g,u){var l=w;return Object.prototype.hasOwnProperty.call(l,g)?l[g]:l[g]=u(g)}function v(g,u){this.h=u;for(var l=[],d=!0,f=g.length-1;0<=f;f--){var p=g[f]|0;d&&p==u||(l[f]=p,d=!1)}this.g=l}var w={};function T(g){return-128<=g&&128>g?_(g,function(u){return new v([u|0],0>u?-1:0)}):new v([g|0],0>g?-1:0)}function V(g){if(isNaN(g)||!isFinite(g))return Q;if(0>g)return N(V(-g));for(var u=[],l=1,d=0;g>=l;d++)u[d]=g/l|0,l*=4294967296;return new v(u,0)}function G(g,u){if(g.length==0)throw Error("number format error: empty string");if(u=u||10,2>u||36<u)throw Error("radix out of range: "+u);if(g.charAt(0)=="-")return N(G(g.substring(1),u));if(0<=g.indexOf("-"))throw Error('number format error: interior "-" character');for(var l=V(Math.pow(u,8)),d=Q,f=0;f<g.length;f+=8){var p=Math.min(8,g.length-f),c=parseInt(g.substring(f,f+p),u);8>p?(p=V(Math.pow(u,p)),d=d.j(p).add(V(c))):(d=d.j(l),d=d.add(V(c)))}return d}var Q=T(0),x=T(1),mt=T(16777216);i=v.prototype,i.m=function(){if(M(this))return-N(this).m();for(var g=0,u=1,l=0;l<this.g.length;l++){var d=this.i(l);g+=(0<=d?d:4294967296+d)*u,u*=4294967296}return g},i.toString=function(g){if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(P(this))return"0";if(M(this))return"-"+N(this).toString(g);for(var u=V(Math.pow(g,6)),l=this,d="";;){var f=ut(l,u).g;l=Tt(l,f.j(u));var p=((0<l.g.length?l.g[0]:l.h)>>>0).toString(g);if(l=f,P(l))return p+d;for(;6>p.length;)p="0"+p;d=p+d}},i.i=function(g){return 0>g?0:g<this.g.length?this.g[g]:this.h};function P(g){if(g.h!=0)return!1;for(var u=0;u<g.g.length;u++)if(g.g[u]!=0)return!1;return!0}function M(g){return g.h==-1}i.l=function(g){return g=Tt(this,g),M(g)?-1:P(g)?0:1};function N(g){for(var u=g.g.length,l=[],d=0;d<u;d++)l[d]=~g.g[d];return new v(l,~g.h).add(x)}i.abs=function(){return M(this)?N(this):this},i.add=function(g){for(var u=Math.max(this.g.length,g.g.length),l=[],d=0,f=0;f<=u;f++){var p=d+(this.i(f)&65535)+(g.i(f)&65535),c=(p>>>16)+(this.i(f)>>>16)+(g.i(f)>>>16);d=c>>>16,p&=65535,c&=65535,l[f]=c<<16|p}return new v(l,l[l.length-1]&-2147483648?-1:0)};function Tt(g,u){return g.add(N(u))}i.j=function(g){if(P(this)||P(g))return Q;if(M(this))return M(g)?N(this).j(N(g)):N(N(this).j(g));if(M(g))return N(this.j(N(g)));if(0>this.l(mt)&&0>g.l(mt))return V(this.m()*g.m());for(var u=this.g.length+g.g.length,l=[],d=0;d<2*u;d++)l[d]=0;for(d=0;d<this.g.length;d++)for(var f=0;f<g.g.length;f++){var p=this.i(d)>>>16,c=this.i(d)&65535,nt=g.i(f)>>>16,kt=g.i(f)&65535;l[2*d+2*f]+=c*kt,Y(l,2*d+2*f),l[2*d+2*f+1]+=p*kt,Y(l,2*d+2*f+1),l[2*d+2*f+1]+=c*nt,Y(l,2*d+2*f+1),l[2*d+2*f+2]+=p*nt,Y(l,2*d+2*f+2)}for(d=0;d<u;d++)l[d]=l[2*d+1]<<16|l[2*d];for(d=u;d<2*u;d++)l[d]=0;return new v(l,0)};function Y(g,u){for(;(g[u]&65535)!=g[u];)g[u+1]+=g[u]>>>16,g[u]&=65535,u++}function W(g,u){this.g=g,this.h=u}function ut(g,u){if(P(u))throw Error("division by zero");if(P(g))return new W(Q,Q);if(M(g))return u=ut(N(g),u),new W(N(u.g),N(u.h));if(M(u))return u=ut(g,N(u)),new W(N(u.g),u.h);if(30<g.g.length){if(M(g)||M(u))throw Error("slowDivide_ only works with positive integers.");for(var l=x,d=u;0>=d.l(g);)l=le(l),d=le(d);var f=Z(l,1),p=Z(d,1);for(d=Z(d,2),l=Z(l,2);!P(d);){var c=p.add(d);0>=c.l(g)&&(f=f.add(l),p=c),d=Z(d,1),l=Z(l,1)}return u=Tt(g,f.j(u)),new W(f,u)}for(f=Q;0<=g.l(u);){for(l=Math.max(1,Math.floor(g.m()/u.m())),d=Math.ceil(Math.log(l)/Math.LN2),d=48>=d?1:Math.pow(2,d-48),p=V(l),c=p.j(u);M(c)||0<c.l(g);)l-=d,p=V(l),c=p.j(u);P(p)&&(p=x),f=f.add(p),g=Tt(g,c)}return new W(f,g)}i.A=function(g){return ut(this,g).h},i.and=function(g){for(var u=Math.max(this.g.length,g.g.length),l=[],d=0;d<u;d++)l[d]=this.i(d)&g.i(d);return new v(l,this.h&g.h)},i.or=function(g){for(var u=Math.max(this.g.length,g.g.length),l=[],d=0;d<u;d++)l[d]=this.i(d)|g.i(d);return new v(l,this.h|g.h)},i.xor=function(g){for(var u=Math.max(this.g.length,g.g.length),l=[],d=0;d<u;d++)l[d]=this.i(d)^g.i(d);return new v(l,this.h^g.h)};function le(g){for(var u=g.g.length+1,l=[],d=0;d<u;d++)l[d]=g.i(d)<<1|g.i(d-1)>>>31;return new v(l,g.h)}function Z(g,u){var l=u>>5;u%=32;for(var d=g.g.length-l,f=[],p=0;p<d;p++)f[p]=0<u?g.i(p+l)>>>u|g.i(p+l+1)<<32-u:g.i(p+l);return new v(f,g.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Cs=Vs.Md5=a,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=V,v.fromString=G,Ve=Vs.Integer=v}).apply(typeof Ps<"u"?Ps:typeof self<"u"?self:typeof window<"u"?window:{});var Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},it={};var Ds,uo,xs,Ns,ks,Fs,Os,Ms,Ls;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,n,r){return t==Array.prototype||t==Object.prototype||(t[n]=r.value),t};function s(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ce=="object"&&Ce];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}var a=s(this);function h(t,n){if(n)t:{var r=a;t=t.split(".");for(var o=0;o<t.length-1;o++){var m=t[o];if(!(m in r))break t;r=r[m]}t=t[t.length-1],o=r[t],n=n(o),n!=o&&n!=null&&e(r,t,{configurable:!0,writable:!0,value:n})}}function _(t,n){t instanceof String&&(t+="");var r=0,o=!1,m={next:function(){if(!o&&r<t.length){var y=r++;return{value:n(y,t[y]),done:!1}}return o=!0,{done:!0,value:void 0}}};return m[Symbol.iterator]=function(){return m},m}h("Array.prototype.values",function(t){return t||function(){return _(this,function(n,r){return r})}});var v=v||{},w=this||self;function T(t){var n=typeof t;return n=n!="object"?n:t?Array.isArray(t)?"array":n:"null",n=="array"||n=="object"&&typeof t.length=="number"}function V(t){var n=typeof t;return n=="object"&&t!=null||n=="function"}function G(t,n,r){return t.call.apply(t.bind,arguments)}function Q(t,n,r){if(!t)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,o),t.apply(n,m)}}return function(){return t.apply(n,arguments)}}function x(t,n,r){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?G:Q,x.apply(null,arguments)}function mt(t,n){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),t.apply(this,o)}}function P(t,n){function r(){}r.prototype=n.prototype,t.aa=n.prototype,t.prototype=new r,t.prototype.constructor=t,t.Qb=function(o,m,y){for(var I=Array(arguments.length-2),R=2;R<arguments.length;R++)I[R-2]=arguments[R];return n.prototype[m].apply(o,I)}}function M(t){let n=t.length;if(0<n){let r=Array(n);for(let o=0;o<n;o++)r[o]=t[o];return r}return[]}function N(t,n){for(let r=1;r<arguments.length;r++){let o=arguments[r];if(T(o)){let m=t.length||0,y=o.length||0;t.length=m+y;for(let I=0;I<y;I++)t[m+I]=o[I]}else t.push(o)}}class Tt{constructor(n,r){this.i=n,this.j=r,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}function Y(t){return/^[\s\xa0]*$/.test(t)}function W(){var t=w.navigator;return t&&(t=t.userAgent)?t:""}function ut(t){return ut[" "](t),t}ut[" "]=function(){};var le=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Z(t,n,r){for(let o in t)n.call(r,t[o],o,t)}function g(t,n){for(let r in t)n.call(void 0,t[r],r,t)}function u(t){let n={};for(let r in t)n[r]=t[r];return n}let l="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function d(t,n){let r,o;for(let m=1;m<arguments.length;m++){o=arguments[m];for(r in o)t[r]=o[r];for(let y=0;y<l.length;y++)r=l[y],Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}}function f(t){var n=1;t=t.split(":");let r=[];for(;0<n&&t.length;)r.push(t.shift()),n--;return t.length&&r.push(t.join(":")),r}function p(t){w.setTimeout(()=>{throw t},0)}function c(){var t=je;let n=null;return t.g&&(n=t.g,t.g=t.g.next,t.g||(t.h=null),n.next=null),n}class nt{constructor(){this.h=this.g=null}add(n,r){let o=kt.get();o.set(n,r),this.h?this.h.next=o:this.g=o,this.h=o}}var kt=new Tt(()=>new Pi,t=>t.reset());class Pi{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}let Ft,Ot=!1,je=new nt,Mn=()=>{let t=w.Promise.resolve(void 0);Ft=()=>{t.then(Vi)}};var Vi=()=>{for(var t;t=c();){try{t.h.call(t.g)}catch(r){p(r)}var n=kt;n.j(t),100>n.h&&(n.h++,t.next=n.g,n.g=t)}Ot=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(t,n){this.type=t,this.g=this.target=n,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var Ci=(function(){if(!w.addEventListener||!Object.defineProperty)return!1;var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let r=()=>{};w.addEventListener("test",r,n),w.removeEventListener("test",r,n)}catch{}return t})();function Mt(t,n){if(L.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,o=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=n,n=t.relatedTarget){if(le){t:{try{ut(n.nodeName);var m=!0;break t}catch{}m=!1}m||(n=null)}}else r=="mouseover"?n=t.fromElement:r=="mouseout"&&(n=t.toElement);this.relatedTarget=n,o?(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Di[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mt.aa.h.call(this)}}P(Mt,L);var Di={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),xi=0;function Ni(t,n,r,o,m){this.listener=t,this.proxy=null,this.src=n,this.type=r,this.capture=!!o,this.ha=m,this.key=++xi,this.da=this.fa=!1}function he(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function de(t){this.src=t,this.g={},this.h=0}de.prototype.add=function(t,n,r,o,m){var y=t.toString();t=this.g[y],t||(t=this.g[y]=[],this.h++);var I=ze(t,n,o,m);return-1<I?(n=t[I],r||(n.fa=!1)):(n=new Ni(n,this.src,y,!!o,m),n.fa=r,t.push(n)),n};function $e(t,n){var r=n.type;if(r in t.g){var o=t.g[r],m=Array.prototype.indexOf.call(o,n,void 0),y;(y=0<=m)&&Array.prototype.splice.call(o,m,1),y&&(he(n),t.g[r].length==0&&(delete t.g[r],t.h--))}}function ze(t,n,r,o){for(var m=0;m<t.length;++m){var y=t[m];if(!y.da&&y.listener==n&&y.capture==!!r&&y.ha==o)return m}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),Ke={};function Ln(t,n,r,o,m){if(o&&o.once)return Un(t,n,r,o,m);if(Array.isArray(n)){for(var y=0;y<n.length;y++)Ln(t,n[y],r,o,m);return null}return r=Xe(r),t&&t[Lt]?t.K(n,r,V(o)?!!o.capture:!!o,m):qn(t,n,r,!1,o,m)}function qn(t,n,r,o,m,y){if(!n)throw Error("Invalid event type");var I=V(m)?!!m.capture:!!m,R=We(t);if(R||(t[Ge]=R=new de(t)),r=R.add(n,r,o,I,y),r.proxy)return r;if(o=ki(),r.proxy=o,o.src=t,o.listener=r,t.addEventListener)Ci||(m=I),m===void 0&&(m=!1),t.addEventListener(n.toString(),o,m);else if(t.attachEvent)t.attachEvent(jn(n.toString()),o);else if(t.addListener&&t.removeListener)t.addListener(o);else throw Error("addEventListener and attachEvent are unavailable.");return r}function ki(){function t(r){return n.call(t.src,t.listener,r)}let n=Fi;return t}function Un(t,n,r,o,m){if(Array.isArray(n)){for(var y=0;y<n.length;y++)Un(t,n[y],r,o,m);return null}return r=Xe(r),t&&t[Lt]?t.L(n,r,V(o)?!!o.capture:!!o,m):qn(t,n,r,!0,o,m)}function Bn(t,n,r,o,m){if(Array.isArray(n))for(var y=0;y<n.length;y++)Bn(t,n[y],r,o,m);else o=V(o)?!!o.capture:!!o,r=Xe(r),t&&t[Lt]?(t=t.i,n=String(n).toString(),n in t.g&&(y=t.g[n],r=ze(y,r,o,m),-1<r&&(he(y[r]),Array.prototype.splice.call(y,r,1),y.length==0&&(delete t.g[n],t.h--)))):t&&(t=We(t))&&(n=t.g[n.toString()],t=-1,n&&(t=ze(n,r,o,m)),(r=-1<t?n[t]:null)&&Qe(r))}function Qe(t){if(typeof t!="number"&&t&&!t.da){var n=t.src;if(n&&n[Lt])$e(n.i,t);else{var r=t.type,o=t.proxy;n.removeEventListener?n.removeEventListener(r,o,t.capture):n.detachEvent?n.detachEvent(jn(r),o):n.addListener&&n.removeListener&&n.removeListener(o),(r=We(n))?($e(r,t),r.h==0&&(r.src=null,n[Ge]=null)):he(t)}}}function jn(t){return t in Ke?Ke[t]:Ke[t]="on"+t}function Fi(t,n){if(t.da)t=!0;else{n=new Mt(n,this);var r=t.listener,o=t.ha||t.src;t.fa&&Qe(t),t=r.call(o,n)}return t}function We(t){return t=t[Ge],t instanceof de?t:null}var He="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xe(t){return typeof t=="function"?t:(t[He]||(t[He]=function(n){return t.handleEvent(n)}),t[He])}function q(){ct.call(this),this.i=new de(this),this.M=this,this.F=null}P(q,ct),q.prototype[Lt]=!0,q.prototype.removeEventListener=function(t,n,r,o){Bn(this,t,n,r,o)};function j(t,n){var r,o=t.F;if(o)for(r=[];o;o=o.F)r.push(o);if(t=t.M,o=n.type||n,typeof n=="string")n=new L(n,t);else if(n instanceof L)n.target=n.target||t;else{var m=n;n=new L(o,t),d(n,m)}if(m=!0,r)for(var y=r.length-1;0<=y;y--){var I=n.g=r[y];m=fe(I,o,!0,n)&&m}if(I=n.g=t,m=fe(I,o,!0,n)&&m,m=fe(I,o,!1,n)&&m,r)for(y=0;y<r.length;y++)I=n.g=r[y],m=fe(I,o,!1,n)&&m}q.prototype.N=function(){if(q.aa.N.call(this),this.i){var t=this.i,n;for(n in t.g){for(var r=t.g[n],o=0;o<r.length;o++)he(r[o]);delete t.g[n],t.h--}}this.F=null},q.prototype.K=function(t,n,r,o){return this.i.add(String(t),n,!1,r,o)},q.prototype.L=function(t,n,r,o){return this.i.add(String(t),n,!0,r,o)};function fe(t,n,r,o){if(n=t.i.g[String(n)],!n)return!0;n=n.concat();for(var m=!0,y=0;y<n.length;++y){var I=n[y];if(I&&!I.da&&I.capture==r){var R=I.listener,F=I.ha||I.src;I.fa&&$e(t.i,I),m=R.call(F,o)!==!1&&m}}return m&&!o.defaultPrevented}function $n(t,n,r){if(typeof t=="function")r&&(t=x(t,r));else if(t&&typeof t.handleEvent=="function")t=x(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(n)?-1:w.setTimeout(t,n||0)}function zn(t){t.g=$n(()=>{t.g=null,t.i&&(t.i=!1,zn(t))},t.l);let n=t.h;t.h=null,t.m.apply(null,n)}class Oi extends ct{constructor(n,r){super(),this.m=n,this.l=r,this.h=null,this.i=!1,this.g=null}j(n){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(w.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qt(t){ct.call(this),this.h=t,this.g={}}P(qt,ct);var Gn=[];function Kn(t){Z(t.g,function(n,r){this.g.hasOwnProperty(r)&&Qe(n)},t),t.g={}}qt.prototype.N=function(){qt.aa.N.call(this),Kn(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Je=w.JSON.stringify,Mi=w.JSON.parse,Li=class{stringify(t){return w.JSON.stringify(t,void 0)}parse(t){return w.JSON.parse(t,void 0)}};function Ye(){}Ye.prototype.h=null;function Qn(t){return t.h||(t.h=t.i())}function Wn(){}var Ut={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ze(){L.call(this,"d")}P(Ze,L);function tn(){L.call(this,"c")}P(tn,L);var gt={},Hn=null;function me(){return Hn=Hn||new q}gt.La="serverreachability";function Xn(t){L.call(this,gt.La,t)}P(Xn,L);function Bt(t){let n=me();j(n,new Xn(n))}gt.STAT_EVENT="statevent";function Jn(t,n){L.call(this,gt.STAT_EVENT,t),this.stat=n}P(Jn,L);function $(t){let n=me();j(n,new Jn(n,t))}gt.Ma="timingevent";function Yn(t,n){L.call(this,gt.Ma,t),this.size=n}P(Yn,L);function jt(t,n){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return w.setTimeout(function(){t()},n)}function $t(){this.g=!0}$t.prototype.xa=function(){this.g=!1};function qi(t,n,r,o,m,y){t.info(function(){if(t.g)if(y)for(var I="",R=y.split("&"),F=0;F<R.length;F++){var S=R[F].split("=");if(1<S.length){var U=S[0];S=S[1];var B=U.split("_");I=2<=B.length&&B[1]=="type"?I+(U+"="+S+"&"):I+(U+"=redacted&")}}else I=null;else I=y;return"XMLHTTP REQ ("+o+") [attempt "+m+"]: "+n+`
`+r+`
`+I})}function Ui(t,n,r,o,m,y,I){t.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+m+"]: "+n+`
`+r+`
`+y+" "+I})}function Et(t,n,r,o){t.info(function(){return"XMLHTTP TEXT ("+n+"): "+ji(t,r)+(o?" "+o:"")})}function Bi(t,n){t.info(function(){return"TIMEOUT: "+n})}$t.prototype.info=function(){};function ji(t,n){if(!t.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r){for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var o=r[t];if(!(2>o.length)){var m=o[1];if(Array.isArray(m)&&!(1>m.length)){var y=m[0];if(y!="noop"&&y!="stop"&&y!="close")for(var I=1;I<m.length;I++)m[I]=""}}}}return Je(r)}catch{return n}}var ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},en;function pe(){}P(pe,Ye),pe.prototype.g=function(){return new XMLHttpRequest},pe.prototype.i=function(){return{}},en=new pe;function lt(t,n,r,o){this.j=t,this.i=n,this.l=r,this.R=o||1,this.U=new qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tr}function tr(){this.i=null,this.g="",this.h=!1}var er={},nn={};function rn(t,n,r){t.L=1,t.v=ve(rt(n)),t.m=r,t.P=!0,nr(t,null)}function nr(t,n){t.F=Date.now(),ye(t),t.A=rt(t.v);var r=t.A,o=t.R;Array.isArray(o)||(o=[String(o)]),pr(r.i,"t",o),t.C=0,r=t.j.J,t.h=new tr,t.g=kr(t.j,r?n:null,!t.m),0<t.O&&(t.M=new Oi(x(t.Y,t,t.g),t.O)),n=t.U,r=t.g,o=t.ca;var m="readystatechange";Array.isArray(m)||(m&&(Gn[0]=m.toString()),m=Gn);for(var y=0;y<m.length;y++){var I=Ln(r,m[y],o||n.handleEvent,!1,n.h||n);if(!I)break;n.g[I.key]=I}n=t.H?u(t.H):{},t.m?(t.u||(t.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,n)):(t.u="GET",t.g.ea(t.A,t.u,null,n)),Bt(),qi(t.i,t.u,t.A,t.l,t.R,t.m)}lt.prototype.ca=function(t){t=t.target;let n=this.M;n&&st(t)==3?n.j():this.Y(t)},lt.prototype.Y=function(t){try{if(t==this.g)t:{let B=st(this.g);var n=this.g.Ba();let St=this.g.Z();if(!(3>B)&&(B!=3||this.g&&(this.h.h||this.g.oa()||Er(this.g)))){this.J||B!=4||n==7||(n==8||0>=St?Bt(3):Bt(2)),sn(this);var r=this.g.Z();this.X=r;e:if(rr(this)){var o=Er(this.g);t="";var m=o.length,y=st(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pt(this),zt(this);var I="";break e}this.h.i=new w.TextDecoder}for(n=0;n<m;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:!(y&&n==m-1)});o.length=0,this.h.g+=t,this.C=0,I=this.h.g}else I=this.g.oa();if(this.o=r==200,Ui(this.i,this.u,this.A,this.l,this.R,B,r),this.o){if(this.T&&!this.K){e:{if(this.g){var R,F=this.g;if((R=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(R)){var S=R;break e}}S=null}if(r=S)Et(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,r);else{this.o=!1,this.s=3,$(12),pt(this),zt(this);break t}}if(this.P){r=!0;let X;for(;!this.J&&this.C<I.length;)if(X=$i(this,I),X==nn){B==4&&(this.s=4,$(14),r=!1),Et(this.i,this.l,null,"[Incomplete Response]");break}else if(X==er){this.s=4,$(15),Et(this.i,this.l,I,"[Invalid Chunk]"),r=!1;break}else Et(this.i,this.l,X,null),on(this,X);if(rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),B!=4||I.length!=0||this.h.h||(this.s=1,$(16),r=!1),this.o=this.o&&r,!r)Et(this.i,this.l,I,"[Invalid Chunked Response]"),pt(this),zt(this);else if(0<I.length&&!this.W){this.W=!0;var U=this.j;U.g==this&&U.ba&&!U.M&&(U.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),dn(U),U.M=!0,$(11))}}else Et(this.i,this.l,I,null),on(this,I);B==4&&pt(this),this.o&&!this.J&&(B==4?Cr(this.j,this):(this.o=!1,ye(this)))}else oo(this.g),r==400&&0<I.indexOf("Unknown SID")?(this.s=3,$(12)):(this.s=0,$(13)),pt(this),zt(this)}}}catch{}finally{}};function rr(t){return t.g?t.u=="GET"&&t.L!=2&&t.j.Ca:!1}function $i(t,n){var r=t.C,o=n.indexOf(`
`,r);return o==-1?nn:(r=Number(n.substring(r,o)),isNaN(r)?er:(o+=1,o+r>n.length?nn:(n=n.slice(o,o+r),t.C=o+r,n)))}lt.prototype.cancel=function(){this.J=!0,pt(this)};function ye(t){t.S=Date.now()+t.I,sr(t,t.I)}function sr(t,n){if(t.B!=null)throw Error("WatchDog timer not null");t.B=jt(x(t.ba,t),n)}function sn(t){t.B&&(w.clearTimeout(t.B),t.B=null)}lt.prototype.ba=function(){this.B=null;let t=Date.now();0<=t-this.S?(Bi(this.i,this.A),this.L!=2&&(Bt(),$(17)),pt(this),this.s=2,zt(this)):sr(this,this.S-t)};function zt(t){t.j.G==0||t.J||Cr(t.j,t)}function pt(t){sn(t);var n=t.M;n&&typeof n.ma=="function"&&n.ma(),t.M=null,Kn(t.U),t.g&&(n=t.g,t.g=null,n.abort(),n.ma())}function on(t,n){try{var r=t.j;if(r.G!=0&&(r.g==t||an(r.h,t))){if(!t.K&&an(r.h,t)&&r.G==3){try{var o=r.Da.g.parse(n)}catch{o=null}if(Array.isArray(o)&&o.length==3){var m=o;if(m[0]==0){t:if(!r.u){if(r.g)if(r.g.F+3e3<t.F)be(r),Ee(r);else break t;hn(r),$(18)}}else r.za=m[1],0<r.za-r.T&&37500>m[2]&&r.F&&r.v==0&&!r.C&&(r.C=jt(x(r.Za,r),6e3));if(1>=ar(r.h)&&r.ca){try{r.ca()}catch{}r.ca=void 0}}else _t(r,11)}else if((t.K||r.g==t)&&be(r),!Y(n))for(m=r.Da.g.parse(n),n=0;n<m.length;n++){let S=m[n];if(r.T=S[0],S=S[1],r.G==2)if(S[0]=="c"){r.K=S[1],r.ia=S[2];let U=S[3];U!=null&&(r.la=U,r.j.info("VER="+r.la));let B=S[4];B!=null&&(r.Aa=B,r.j.info("SVER="+r.Aa));let St=S[5];St!=null&&typeof St=="number"&&0<St&&(o=1.5*St,r.L=o,r.j.info("backChannelRequestTimeoutMs_="+o)),o=r;let X=t.g;if(X){let Re=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Re){var y=o.h;y.g||Re.indexOf("spdy")==-1&&Re.indexOf("quic")==-1&&Re.indexOf("h2")==-1||(y.j=y.l,y.g=new Set,y.h&&(un(y,y.h),y.h=null))}if(o.D){let fn=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;fn&&(o.ya=fn,C(o.I,o.D,fn))}}r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-t.F,r.j.info("Handshake RTT: "+r.R+"ms")),o=r;var I=t;if(o.qa=Nr(o,o.J?o.ia:null,o.W),I.K){ur(o.h,I);var R=I,F=o.L;F&&(R.I=F),R.B&&(sn(R),ye(R)),o.g=I}else Pr(o);0<r.i.length&&Ae(r)}else S[0]!="stop"&&S[0]!="close"||_t(r,7);else r.G==3&&(S[0]=="stop"||S[0]=="close"?S[0]=="stop"?_t(r,7):ln(r):S[0]!="noop"&&r.l&&r.l.ta(S),r.v=0)}}Bt(4)}catch{}}var zi=class{constructor(t,n){this.g=t,this.map=n}};function ir(t){this.l=t||10,w.PerformanceNavigationTiming?(t=w.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(w.chrome&&w.chrome.loadTimes&&w.chrome.loadTimes()&&w.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function or(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ar(t){return t.h?1:t.g?t.g.size:0}function an(t,n){return t.h?t.h==n:t.g?t.g.has(n):!1}function un(t,n){t.g?t.g.add(n):t.h=n}function ur(t,n){t.h&&t.h==n?t.h=null:t.g&&t.g.has(n)&&t.g.delete(n)}ir.prototype.cancel=function(){if(this.i=cr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function cr(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let n=t.i;for(let r of t.g.values())n=n.concat(r.D);return n}return M(t.i)}function Gi(t){if(t.V&&typeof t.V=="function")return t.V();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(T(t)){for(var n=[],r=t.length,o=0;o<r;o++)n.push(t[o]);return n}n=[],r=0;for(o in t)n[r++]=t[o];return n}function Ki(t){if(t.na&&typeof t.na=="function")return t.na();if(!t.V||typeof t.V!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(T(t)||typeof t=="string"){var n=[];t=t.length;for(var r=0;r<t;r++)n.push(r);return n}n=[],r=0;for(let o in t)n[r++]=o;return n}}}function lr(t,n){if(t.forEach&&typeof t.forEach=="function")t.forEach(n,void 0);else if(T(t)||typeof t=="string")Array.prototype.forEach.call(t,n,void 0);else for(var r=Ki(t),o=Gi(t),m=o.length,y=0;y<m;y++)n.call(void 0,o[y],r&&r[y],t)}var hr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qi(t,n){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var o=t[r].indexOf("="),m=null;if(0<=o){var y=t[r].substring(0,o);m=t[r].substring(o+1)}else y=t[r];n(y,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function yt(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof yt){this.h=t.h,_e(this,t.j),this.o=t.o,this.g=t.g,we(this,t.s),this.l=t.l;var n=t.i,r=new Qt;r.i=n.i,n.g&&(r.g=new Map(n.g),r.h=n.h),dr(this,r),this.m=t.m}else t&&(n=String(t).match(hr))?(this.h=!1,_e(this,n[1]||"",!0),this.o=Gt(n[2]||""),this.g=Gt(n[3]||"",!0),we(this,n[4]),this.l=Gt(n[5]||"",!0),dr(this,n[6]||"",!0),this.m=Gt(n[7]||"")):(this.h=!1,this.i=new Qt(null,this.h))}yt.prototype.toString=function(){var t=[],n=this.j;n&&t.push(Kt(n,fr,!0),":");var r=this.g;return(r||n=="file")&&(t.push("//"),(n=this.o)&&t.push(Kt(n,fr,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.s,r!=null&&t.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&t.push("/"),t.push(Kt(r,r.charAt(0)=="/"?Xi:Hi,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.m)&&t.push("#",Kt(r,Yi)),t.join("")};function rt(t){return new yt(t)}function _e(t,n,r){t.j=r?Gt(n,!0):n,t.j&&(t.j=t.j.replace(/:$/,""))}function we(t,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);t.s=n}else t.s=null}function dr(t,n,r){n instanceof Qt?(t.i=n,Zi(t.i,t.h)):(r||(n=Kt(n,Ji)),t.i=new Qt(n,t.h))}function C(t,n,r){t.i.set(n,r)}function ve(t){return C(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Gt(t,n){return t?n?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kt(t,n,r){return typeof t=="string"?(t=encodeURI(t).replace(n,Wi),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wi(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var fr=/[#\/\?@]/g,Hi=/[#\?:]/g,Xi=/[#\?]/g,Ji=/[#\?@]/g,Yi=/#/g;function Qt(t,n){this.h=this.g=null,this.i=t||null,this.j=!!n}function ht(t){t.g||(t.g=new Map,t.h=0,t.i&&Qi(t.i,function(n,r){t.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}i=Qt.prototype,i.add=function(t,n){ht(this),this.i=null,t=At(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(n),this.h+=1,this};function mr(t,n){ht(t),n=At(t,n),t.g.has(n)&&(t.i=null,t.h-=t.g.get(n).length,t.g.delete(n))}function gr(t,n){return ht(t),n=At(t,n),t.g.has(n)}i.forEach=function(t,n){ht(this),this.g.forEach(function(r,o){r.forEach(function(m){t.call(n,m,o,this)},this)},this)},i.na=function(){ht(this);let t=Array.from(this.g.values()),n=Array.from(this.g.keys()),r=[];for(let o=0;o<n.length;o++){let m=t[o];for(let y=0;y<m.length;y++)r.push(n[o])}return r},i.V=function(t){ht(this);let n=[];if(typeof t=="string")gr(this,t)&&(n=n.concat(this.g.get(At(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)n=n.concat(t[r])}return n},i.set=function(t,n){return ht(this),this.i=null,t=At(this,t),gr(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[n]),this.h+=1,this},i.get=function(t,n){return t?(t=this.V(t),0<t.length?String(t[0]):n):n};function pr(t,n,r){mr(t,n),0<r.length&&(t.i=null,t.g.set(At(t,n),M(r)),t.h+=r.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],n=Array.from(this.g.keys());for(var r=0;r<n.length;r++){var o=n[r];let y=encodeURIComponent(String(o)),I=this.V(o);for(o=0;o<I.length;o++){var m=y;I[o]!==""&&(m+="="+encodeURIComponent(String(I[o]))),t.push(m)}}return this.i=t.join("&")};function At(t,n){return n=String(n),t.j&&(n=n.toLowerCase()),n}function Zi(t,n){n&&!t.j&&(ht(t),t.i=null,t.g.forEach(function(r,o){var m=o.toLowerCase();o!=m&&(mr(this,o),pr(this,m,r))},t)),t.j=n}function to(t,n){let r=new $t;if(w.Image){let o=new Image;o.onload=mt(dt,r,"TestLoadImage: loaded",!0,n,o),o.onerror=mt(dt,r,"TestLoadImage: error",!1,n,o),o.onabort=mt(dt,r,"TestLoadImage: abort",!1,n,o),o.ontimeout=mt(dt,r,"TestLoadImage: timeout",!1,n,o),w.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=t}else n(!1)}function eo(t,n){let r=new $t,o=new AbortController,m=setTimeout(()=>{o.abort(),dt(r,"TestPingServer: timeout",!1,n)},1e4);fetch(t,{signal:o.signal}).then(y=>{clearTimeout(m),y.ok?dt(r,"TestPingServer: ok",!0,n):dt(r,"TestPingServer: server error",!1,n)}).catch(()=>{clearTimeout(m),dt(r,"TestPingServer: error",!1,n)})}function dt(t,n,r,o,m){try{m&&(m.onload=null,m.onerror=null,m.onabort=null,m.ontimeout=null),o(r)}catch{}}function no(){this.g=new Li}function ro(t,n,r){let o=r||"";try{lr(t,function(m,y){let I=m;V(m)&&(I=Je(m)),n.push(o+y+"="+encodeURIComponent(I))})}catch(m){throw n.push(o+"type="+encodeURIComponent("_badmap")),m}}function Wt(t){this.l=t.Ub||null,this.j=t.eb||!1}P(Wt,Ye),Wt.prototype.g=function(){return new Ie(this.l,this.j)},Wt.prototype.i=(function(t){return function(){return t}})({});function Ie(t,n){q.call(this),this.D=t,this.o=n,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ie,q),i=Ie.prototype,i.open=function(t,n){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=n,this.readyState=1,Xt(this)},i.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let n={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(n.body=t),(this.D||w).fetch(new Request(this.A,n)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ht(this)),this.readyState=0},i.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xt(this)),this.g&&(this.readyState=3,Xt(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof w.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yr(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))};function yr(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}i.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var n=t.value?t.value:new Uint8Array(0);(n=this.v.decode(n,{stream:!t.done}))&&(this.response=this.responseText+=n)}t.done?Ht(this):Xt(this),this.readyState==3&&yr(this)}},i.Ra=function(t){this.g&&(this.response=this.responseText=t,Ht(this))},i.Qa=function(t){this.g&&(this.response=t,Ht(this))},i.ga=function(){this.g&&Ht(this)};function Ht(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Xt(t)}i.setRequestHeader=function(t,n){this.u.append(t,n)},i.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],n=this.h.entries();for(var r=n.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=n.next();return t.join(`\r
`)};function Xt(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ie.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function _r(t){let n="";return Z(t,function(r,o){n+=o,n+=":",n+=r,n+=`\r
`}),n}function cn(t,n,r){t:{for(o in r){var o=!1;break t}o=!0}o||(r=_r(r),typeof t=="string"?r!=null&&encodeURIComponent(String(r)):C(t,n,r))}function D(t){q.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(D,q);var so=/^https?$/i,io=["POST","PUT"];i=D.prototype,i.Ha=function(t){this.J=t},i.ea=function(t,n,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);n=n?n.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():en.g(),this.v=this.o?Qn(this.o):Qn(en),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(n,String(t),!0),this.B=!1}catch(y){wr(this,y);return}if(t=r||"",r=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var m in o)r.set(m,o[m]);else if(typeof o.keys=="function"&&typeof o.get=="function")for(let y of o.keys())r.set(y,o.get(y));else throw Error("Unknown input type for opt_headers: "+String(o));o=Array.from(r.keys()).find(y=>y.toLowerCase()=="content-type"),m=w.FormData&&t instanceof w.FormData,!(0<=Array.prototype.indexOf.call(io,n,void 0))||o||m||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[y,I]of r)this.g.setRequestHeader(y,I);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tr(this),this.u=!0,this.g.send(t),this.u=!1}catch(y){wr(this,y)}};function wr(t,n){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=n,t.m=5,vr(t),Te(t)}function vr(t){t.A||(t.A=!0,j(t,"complete"),j(t,"error"))}i.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,j(this,"complete"),j(this,"abort"),Te(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Te(this,!0)),D.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ir(this):this.bb())},i.bb=function(){Ir(this)};function Ir(t){if(t.h&&typeof v<"u"&&(!t.v[1]||st(t)!=4||t.Z()!=2)){if(t.u&&st(t)==4)$n(t.Ea,0,t);else if(j(t,"readystatechange"),st(t)==4){t.h=!1;try{let I=t.Z();t:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var o;if(o=I===0){var m=String(t.D).match(hr)[1]||null;!m&&w.self&&w.self.location&&(m=w.self.location.protocol.slice(0,-1)),o=!so.test(m?m.toLowerCase():"")}r=o}if(r)j(t,"complete"),j(t,"success");else{t.m=6;try{var y=2<st(t)?t.g.statusText:""}catch{y=""}t.l=y+" ["+t.Z()+"]",vr(t)}}finally{Te(t)}}}}function Te(t,n){if(t.g){Tr(t);let r=t.g,o=t.v[0]?()=>{}:null;t.g=null,t.v=null,n||j(t,"ready");try{r.onreadystatechange=o}catch{}}}function Tr(t){t.I&&(w.clearTimeout(t.I),t.I=null)}i.isActive=function(){return!!this.g};function st(t){return t.g?t.g.readyState:0}i.Z=function(){try{return 2<st(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(t){if(this.g){var n=this.g.responseText;return t&&n.indexOf(t)==0&&(n=n.substring(t.length)),Mi(n)}};function Er(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function oo(t){let n={};t=(t.g&&2<=st(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let o=0;o<t.length;o++){if(Y(t[o]))continue;var r=f(t[o]);let m=r[0];if(r=r[1],typeof r!="string")continue;r=r.trim();let y=n[m]||[];n[m]=y,y.push(r)}g(n,function(o){return o.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jt(t,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||n}function Ar(t){this.Aa=0,this.i=[],this.j=new $t,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jt("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jt("baseRetryDelayMs",5e3,t),this.cb=Jt("retryDelaySeedMs",1e4,t),this.Wa=Jt("forwardChannelMaxRetries",2,t),this.wa=Jt("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new ir(t&&t.concurrentRequestLimit),this.Da=new no,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ar.prototype,i.la=8,i.G=1,i.connect=function(t,n,r,o){$(0),this.W=t,this.H=n||{},r&&o!==void 0&&(this.H.OSID=r,this.H.OAID=o),this.F=this.X,this.I=Nr(this,null,this.W),Ae(this)};function ln(t){if(br(t),t.G==3){var n=t.U++,r=rt(t.I);if(C(r,"SID",t.K),C(r,"RID",n),C(r,"TYPE","terminate"),Yt(t,r),n=new lt(t,t.j,n),n.L=2,n.v=ve(rt(r)),r=!1,w.navigator&&w.navigator.sendBeacon)try{r=w.navigator.sendBeacon(n.v.toString(),"")}catch{}!r&&w.Image&&(new Image().src=n.v,r=!0),r||(n.g=kr(n.j,null),n.g.ea(n.v)),n.F=Date.now(),ye(n)}xr(t)}function Ee(t){t.g&&(dn(t),t.g.cancel(),t.g=null)}function br(t){Ee(t),t.u&&(w.clearTimeout(t.u),t.u=null),be(t),t.h.cancel(),t.s&&(typeof t.s=="number"&&w.clearTimeout(t.s),t.s=null)}function Ae(t){if(!or(t.h)&&!t.s){t.s=!0;var n=t.Ga;Ft||Mn(),Ot||(Ft(),Ot=!0),je.add(n,t),t.B=0}}function ao(t,n){return ar(t.h)>=t.h.j-(t.s?1:0)?!1:t.s?(t.i=n.D.concat(t.i),!0):t.G==1||t.G==2||t.B>=(t.Va?0:t.Wa)?!1:(t.s=jt(x(t.Ga,t,n),Dr(t,t.B)),t.B++,!0)}i.Ga=function(t){if(this.s)if(this.s=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;let m=new lt(this,this.j,t),y=this.o;if(this.S&&(y?(y=u(y),d(y,this.S)):y=this.S),this.m!==null||this.O||(m.H=y,y=null),this.P)t:{for(var n=0,r=0;r<this.i.length;r++){e:{var o=this.i[r];if("__data__"in o.map&&(o=o.map.__data__,typeof o=="string")){o=o.length;break e}o=void 0}if(o===void 0)break;if(n+=o,4096<n){n=r;break t}if(n===4096||r===this.i.length-1){n=r+1;break t}}n=1e3}else n=1e3;n=Rr(this,m,n),r=rt(this.I),C(r,"RID",t),C(r,"CVER",22),this.D&&C(r,"X-HTTP-Session-Id",this.D),Yt(this,r),y&&(this.O?n="headers="+encodeURIComponent(String(_r(y)))+"&"+n:this.m&&cn(r,this.m,y)),un(this.h,m),this.Ua&&C(r,"TYPE","init"),this.P?(C(r,"$req",n),C(r,"SID","null"),m.T=!0,rn(m,r,null)):rn(m,r,n),this.G=2}}else this.G==3&&(t?Sr(this,t):this.i.length==0||or(this.h)||Sr(this))};function Sr(t,n){var r;n?r=n.l:r=t.U++;let o=rt(t.I);C(o,"SID",t.K),C(o,"RID",r),C(o,"AID",t.T),Yt(t,o),t.m&&t.o&&cn(o,t.m,t.o),r=new lt(t,t.j,r,t.B+1),t.m===null&&(r.H=t.o),n&&(t.i=n.D.concat(t.i)),n=Rr(t,r,1e3),r.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),un(t.h,r),rn(r,o,n)}function Yt(t,n){t.H&&Z(t.H,function(r,o){C(n,o,r)}),t.l&&lr({},function(r,o){C(n,o,r)})}function Rr(t,n,r){r=Math.min(t.i.length,r);var o=t.l?x(t.l.Na,t.l,t):null;t:{var m=t.i;let y=-1;for(;;){let I=["count="+r];y==-1?0<r?(y=m[0].g,I.push("ofs="+y)):y=0:I.push("ofs="+y);let R=!0;for(let F=0;F<r;F++){let S=m[F].g,U=m[F].map;if(S-=y,0>S)y=Math.max(0,m[F].g-100),R=!1;else try{ro(U,I,"req"+S+"_")}catch{o&&o(U)}}if(R){o=I.join("&");break t}}}return t=t.i.splice(0,r),n.D=t,o}function Pr(t){if(!t.g&&!t.u){t.Y=1;var n=t.Fa;Ft||Mn(),Ot||(Ft(),Ot=!0),je.add(n,t),t.v=0}}function hn(t){return t.g||t.u||3<=t.v?!1:(t.Y++,t.u=jt(x(t.Fa,t),Dr(t,t.v)),t.v++,!0)}i.Fa=function(){if(this.u=null,Vr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=jt(x(this.ab,this),t)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$(10),Ee(this),Vr(this))};function dn(t){t.A!=null&&(w.clearTimeout(t.A),t.A=null)}function Vr(t){t.g=new lt(t,t.j,"rpc",t.Y),t.m===null&&(t.g.H=t.o),t.g.O=0;var n=rt(t.qa);C(n,"RID","rpc"),C(n,"SID",t.K),C(n,"AID",t.T),C(n,"CI",t.F?"0":"1"),!t.F&&t.ja&&C(n,"TO",t.ja),C(n,"TYPE","xmlhttp"),Yt(t,n),t.m&&t.o&&cn(n,t.m,t.o),t.L&&(t.g.I=t.L);var r=t.g;t=t.ia,r.L=1,r.v=ve(rt(n)),r.m=null,r.P=!0,nr(r,t)}i.Za=function(){this.C!=null&&(this.C=null,Ee(this),hn(this),$(19))};function be(t){t.C!=null&&(w.clearTimeout(t.C),t.C=null)}function Cr(t,n){var r=null;if(t.g==n){be(t),dn(t),t.g=null;var o=2}else if(an(t.h,n))r=n.D,ur(t.h,n),o=1;else return;if(t.G!=0){if(n.o)if(o==1){r=n.m?n.m.length:0,n=Date.now()-n.F;var m=t.B;o=me(),j(o,new Yn(o,r)),Ae(t)}else Pr(t);else if(m=n.s,m==3||m==0&&0<n.X||!(o==1&&ao(t,n)||o==2&&hn(t)))switch(r&&0<r.length&&(n=t.h,n.i=n.i.concat(r)),m){case 1:_t(t,5);break;case 4:_t(t,10);break;case 3:_t(t,6);break;default:_t(t,2)}}}function Dr(t,n){let r=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(r*=2),r*n}function _t(t,n){if(t.j.info("Error code "+n),n==2){var r=x(t.fb,t),o=t.Xa;let m=!o;o=new yt(o||"//www.google.com/images/cleardot.gif"),w.location&&w.location.protocol=="http"||_e(o,"https"),ve(o),m?to(o.toString(),r):eo(o.toString(),r)}else $(2);t.G=0,t.l&&t.l.sa(n),xr(t),br(t)}i.fb=function(t){t?(this.j.info("Successfully pinged google.com"),$(2)):(this.j.info("Failed to ping google.com"),$(1))};function xr(t){if(t.G=0,t.ka=[],t.l){let n=cr(t.h);(n.length!=0||t.i.length!=0)&&(N(t.ka,n),N(t.ka,t.i),t.h.i.length=0,M(t.i),t.i.length=0),t.l.ra()}}function Nr(t,n,r){var o=r instanceof yt?rt(r):new yt(r);if(o.g!="")n&&(o.g=n+"."+o.g),we(o,o.s);else{var m=w.location;o=m.protocol,n=n?n+"."+m.hostname:m.hostname,m=+m.port;var y=new yt(null);o&&_e(y,o),n&&(y.g=n),m&&we(y,m),r&&(y.l=r),o=y}return r=t.D,n=t.ya,r&&n&&C(o,r,n),C(o,"VER",t.la),Yt(t,o),o}function kr(t,n,r){if(n&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return n=t.Ca&&!t.pa?new D(new Wt({eb:r})):new D(t.pa),n.Ha(t.J),n}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fr(){}i=Fr.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Se(){}Se.prototype.g=function(t,n){return new K(t,n)};function K(t,n){q.call(this),this.g=new Ar(n),this.l=t,this.h=n&&n.messageUrlParams||null,t=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(t?t["X-WebChannel-Content-Type"]=n.messageContentType:t={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.va&&(t?t["X-WebChannel-Client-Profile"]=n.va:t={"X-WebChannel-Client-Profile":n.va}),this.g.S=t,(t=n&&n.Sb)&&!Y(t)&&(this.g.m=t),this.v=n&&n.supportsCrossDomainXhr||!1,this.u=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Y(n)&&(this.g.D=n,t=this.h,t!==null&&n in t&&(t=this.h,n in t&&delete t[n])),this.j=new bt(this)}P(K,q),K.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},K.prototype.close=function(){ln(this.g)},K.prototype.o=function(t){var n=this.g;if(typeof t=="string"){var r={};r.__data__=t,t=r}else this.u&&(r={},r.__data__=Je(t),t=r);n.i.push(new zi(n.Ya++,t)),n.G==3&&Ae(n)},K.prototype.N=function(){this.g.l=null,delete this.j,ln(this.g),delete this.g,K.aa.N.call(this)};function Or(t){Ze.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var n=t.__sm__;if(n){t:{for(let r in n){t=r;break t}t=void 0}(this.i=t)&&(t=this.i,n=n!==null&&t in n?n[t]:void 0),this.data=n}else this.data=t}P(Or,Ze);function Mr(){tn.call(this),this.status=1}P(Mr,tn);function bt(t){this.g=t}P(bt,Fr),bt.prototype.ua=function(){j(this.g,"a")},bt.prototype.ta=function(t){j(this.g,new Or(t))},bt.prototype.sa=function(t){j(this.g,new Mr)},bt.prototype.ra=function(){j(this.g,"b")},Se.prototype.createWebChannel=Se.prototype.g,K.prototype.send=K.prototype.o,K.prototype.open=K.prototype.m,K.prototype.close=K.prototype.close,Ls=it.createWebChannelTransport=function(){return new Se},Ms=it.getStatEventTarget=function(){return me()},Os=it.Event=gt,Fs=it.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,ks=it.ErrorCode=ge,Zn.COMPLETE="complete",Ns=it.EventType=Zn,Wn.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",q.prototype.listen=q.prototype.K,xs=it.WebChannel=Wn,uo=it.FetchXmlHttpFactory=Wt,D.prototype.listenOnce=D.prototype.L,D.prototype.getLastError=D.prototype.Ka,D.prototype.getLastErrorCode=D.prototype.Ba,D.prototype.getStatus=D.prototype.Z,D.prototype.getResponseJson=D.prototype.Oa,D.prototype.getResponseText=D.prototype.oa,D.prototype.send=D.prototype.ea,D.prototype.setWithCredentials=D.prototype.Ha,Ds=it.XhrIo=D}).apply(typeof Ce<"u"?Ce:typeof self<"u"?self:typeof window<"u"?window:{});var qs="@firebase/firestore",Us="4.8.0";var O=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};O.UNAUTHENTICATED=new O(null),O.GOOGLE_CREDENTIALS=new O("google-credentials-uid"),O.FIRST_PARTY=new O("first-party-uid"),O.MOCK_USER=new O("mock-user");var ae="11.10.0";var xt=new cs("@firebase/firestore");function J(i,...e){if(xt.logLevel<=Pe.DEBUG){let s=e.map(kn);xt.debug(`Firestore (${ae}): ${i}`,...s)}}function Zs(i,...e){if(xt.logLevel<=Pe.ERROR){let s=e.map(kn);xt.error(`Firestore (${ae}): ${i}`,...s)}}function co(i,...e){if(xt.logLevel<=Pe.WARN){let s=e.map(kn);xt.warn(`Firestore (${ae}): ${i}`,...s)}}function kn(i){if(typeof i=="string")return i;try{return(function(s){return JSON.stringify(s)})(i)}catch{return i}}function z(i,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,ti(i,a,s)}function ti(i,e,s){let a=`FIRESTORE (${ae}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{a+=" CONTEXT: "+JSON.stringify(s)}catch{a+=" CONTEXT: "+s}throw Zs(a),new Error(a)}function wt(i,e,s,a){let h="Unexpected state";typeof s=="string"?h=s:a=s,i||ti(e,h,a)}var b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=class extends os{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vt=class{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}};var De=class{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},gn=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(O.UNAUTHENTICATED))}shutdown(){}},pn=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}},yn=class{constructor(e){this.t=e,this.currentUser=O.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){wt(this.o===void 0,42304);let a=this.i,h=T=>this.i!==a?(a=this.i,s(T)):Promise.resolve(),_=new vt;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new vt,e.enqueueRetryable(()=>h(this.currentUser))};let v=()=>{let T=_;e.enqueueRetryable(()=>Rt(this,null,function*(){yield T.promise,yield h(this.currentUser)}))},w=T=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.o&&(this.auth.addAuthTokenListener(this.o),v())};this.t.onInit(T=>w(T)),setTimeout(()=>{if(!this.auth){let T=this.t.getImmediate({optional:!0});T?w(T):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new vt)}},0),v()}getToken(){let e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(a=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(wt(typeof a.accessToken=="string",31837,{l:a}),new De(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new O(e)}},_n=class{constructor(e,s,a){this.P=e,this.T=s,this.I=a,this.type="FirstParty",this.user=O.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},wn=class{constructor(e,s,a){this.P=e,this.T=s,this.I=a}getToken(){return Promise.resolve(new _n(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable(()=>s(O.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xe=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},vn=class{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ds(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){wt(this.o===void 0,3512);let a=_=>{_.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);let v=_.token!==this.m;return this.m=_.token,J("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?s(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>a(_))};let h=_=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(_=>h(_)),setTimeout(()=>{if(!this.appCheck){let _=this.V.getImmediate({optional:!0});_?h(_):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xe(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(wt(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new xe(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function lo(i){let e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let a=0;a<i;a++)s[a]=Math.floor(256*Math.random());return s}function ho(){return new TextEncoder}var In=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516),a="";for(;a.length<20;){let h=lo(40);for(let _=0;_<h.length;++_)a.length<20&&h[_]<s&&(a+=e.charAt(h[_]%62))}return a}};function H(i,e){return i<e?-1:i>e?1:0}function fo(i,e){let s=0;for(;s<i.length&&s<e.length;){let a=i.codePointAt(s),h=e.codePointAt(s);if(a!==h){if(a<128&&h<128)return H(a,h);{let _=ho(),v=mo(_.encode(Bs(i,s)),_.encode(Bs(e,s)));return v!==0?v:H(a,h)}}s+=a>65535?2:1}return H(i.length,e.length)}function Bs(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function mo(i,e){for(let s=0;s<i.length&&s<e.length;++s)if(i[s]!==e[s])return H(i[s],e[s]);return H(i.length,e.length)}var js="__name__",Ne=class i{constructor(e,s,a){s===void 0?s=0:s>e.length&&z(637,{offset:s,range:e.length}),a===void 0?a=e.length-s:a>e.length-s&&z(1746,{length:a,range:e.length-s}),this.segments=e,this.offset=s,this.len=a}get length(){return this.len}isEqual(e){return i.comparator(this,e)===0}child(e){let s=this.segments.slice(this.offset,this.limit());return e instanceof i?e.forEach(a=>{s.push(a)}):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,a=this.limit();s<a;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){let a=Math.min(e.length,s.length);for(let h=0;h<a;h++){let _=i.compareSegments(e.get(h),s.get(h));if(_!==0)return _}return H(e.length,s.length)}static compareSegments(e,s){let a=i.isNumericId(e),h=i.isNumericId(s);return a&&!h?-1:!a&&h?1:a&&h?i.extractNumericId(e).compare(i.extractNumericId(s)):fo(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ve.fromString(e.substring(4,e.length-2))}},ot=class i extends Ne{construct(e,s,a){return new i(e,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let s=[];for(let a of e){if(a.indexOf("//")>=0)throw new E(b.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter(h=>h.length>0))}return new i(s)}static emptyPath(){return new i([])}},go=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tn=class i extends Ne{construct(e,s,a){return new i(e,s,a)}static isValidIdentifier(e){return go.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===js}static keyField(){return new i([js])}static fromServerFormat(e){let s=[],a="",h=0,_=()=>{if(a.length===0)throw new E(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""},v=!1;for(;h<e.length;){let w=e[h];if(w==="\\"){if(h+1===e.length)throw new E(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let T=e[h+1];if(T!=="\\"&&T!=="."&&T!=="`")throw new E(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=T,h+=2}else w==="`"?(v=!v,h++):w!=="."||v?(a+=w,h++):(_(),h++)}if(_(),v)throw new E(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new i(s)}static emptyPath(){return new i([])}};var at=class i{constructor(e){this.path=e}static fromPath(e){return new i(ot.fromString(e))}static fromName(e){return new i(ot.fromString(e).popFirst(5))}static empty(){return new i(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ot.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new i(new ot(e.slice()))}};function po(i,e,s,a){if(e===!0&&a===!0)throw new E(b.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function yo(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function _o(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{let e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":z(12329,{type:typeof i})}function wo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new E(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let s=_o(i);throw new E(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function k(i,e){let s={typeString:i};return e&&(s.value=e),s}function ue(i,e){if(!yo(i))throw new E(b.INVALID_ARGUMENT,"JSON must be an object");let s;for(let a in e)if(e[a]){let h=e[a].typeString,_="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){s=`JSON missing required field: '${a}'`;break}let v=i[a];if(h&&typeof v!==h){s=`JSON field '${a}' must be a ${h}.`;break}if(_!==void 0&&v!==_.value){s=`Expected '${a}' field to equal '${_.value}'`;break}}if(s)throw new E(b.INVALID_ARGUMENT,s);return!0}var $s=-62135596800,zs=1e6,ee=class i{static now(){return i.fromMillis(Date.now())}static fromDate(e){return i.fromMillis(e.getTime())}static fromMillis(e){let s=Math.floor(e/1e3),a=Math.floor((e-1e3*s)*zs);return new i(s,a)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new E(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new E(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<$s)throw new E(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zs}_compareTo(e){return this.seconds===e.seconds?H(this.nanoseconds,e.nanoseconds):H(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:i._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ue(e,i._jsonSchema))return new i(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-$s;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:k("string",ee._jsonSchemaVersion),seconds:k("number"),nanoseconds:k("number")};var En=class{constructor(e,s,a,h){this.indexId=e,this.collectionGroup=s,this.fields=a,this.indexState=h}};En.UNKNOWN_ID=-1;function vo(i){return i.name==="IndexedDbTransactionError"}function Io(i){return i===0&&1/i==-1/0}var To="remoteDocuments",ei="owner";var ni="mutationQueues";var ri="mutations";var si="documentMutations",Eo="remoteDocumentsV14";var ii="remoteDocumentGlobal";var oi="targets";var ai="targetDocuments";var ui="targetGlobal",ci="collectionParents";var li="clientMetadata";var hi="bundles";var di="namedQueries";var Ao="indexConfiguration";var bo="indexState";var So="indexEntries";var fi="documentOverlays";var Ro="globals";var Po=[ni,ri,si,To,oi,ei,ui,ai,li,ii,ci,hi,di],da=[...Po,fi],Vo=[ni,ri,si,Eo,oi,ei,ui,ai,li,ii,ci,hi,di,fi],Co=Vo,Do=[...Co,Ao,bo,So];var fa=[...Do,Ro];var Nt=class i{constructor(e,s){this.comparator=e,this.root=s||et.EMPTY}insert(e,s){return new i(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,et.BLACK,null,null))}remove(e){return new i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,et.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){let a=this.comparator(e,s.key);if(a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(e){let s=0,a=this.root;for(;!a.isEmpty();){let h=this.comparator(e,a.key);if(h===0)return s+a.left.size;h<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((s,a)=>(e(s,a),!1))}toString(){let e=[];return this.inorderTraversal((s,a)=>(e.push(`${s}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pt(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pt(this.root,e,this.comparator,!0)}},Pt=class{constructor(e,s,a,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=s?a(e.key,s):1,s&&h&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(_===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},et=class i{constructor(e,s,a,h,_){this.key=e,this.value=s,this.color=a??i.RED,this.left=h??i.EMPTY,this.right=_??i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,a,h,_){return new i(e??this.key,s??this.value,a??this.color,h??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let h=this,_=a(e,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(e,s,a),null):_===0?h.copy(null,s,null,null,null):h.copy(null,null,null,null,h.right.insert(e,s,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let a,h=this;if(s(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,s),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),s(e,h.key)===0){if(h.right.isEmpty())return i.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,s))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};et.EMPTY=null,et.RED=!0,et.BLACK=!1;et.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,s,a,h,_){return this}insert(e,s,a){return new et(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ke=class i{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((s,a)=>(e(s),!1))}forEachInRange(e,s){let a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){let h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;s(h.key)}}forEachWhile(e,s){let a;for(a=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){let s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Fe(this.data.getIterator())}getIteratorFrom(e){return new Fe(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach(a=>{s=s.add(a)}),s}isEqual(e){if(!(e instanceof i)||this.size!==e.size)return!1;let s=this.data.getIterator(),a=e.data.getIterator();for(;s.hasNext();){let h=s.getNext().key,_=a.getNext().key;if(this.comparator(h,_)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(s=>{e.push(s)}),e}toString(){let e=[];return this.forEach(s=>e.push(s)),"SortedSet("+e.toString()+")"}copy(e){let s=new i(this.comparator);return s.data=e,s}},Fe=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var An=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ft=class i{constructor(e){this.binaryString=e}static fromBase64String(e){let s=(function(h){try{return atob(h)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new An("Invalid base64 string: "+_):_}})(e);return new i(s)}static fromUint8Array(e){let s=(function(h){let _="";for(let v=0;v<h.length;++v)_+=String.fromCharCode(h[v]);return _})(e);return new i(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){let a=new Uint8Array(s.length);for(let h=0;h<s.length;h++)a[h]=s.charCodeAt(h);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return H(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ft.EMPTY_BYTE_STRING=new ft("");var xo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(i){if(wt(!!i,39018),typeof i=="string"){let e=0,s=xo.exec(i);if(wt(!!s,46558,{timestamp:i}),s[1]){let h=s[1];h=(h+"000000000").substr(0,9),e=Number(h)}let a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ne(i.seconds),nanos:ne(i.nanos)}}function ne(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ko(i){return typeof i=="string"?ft.fromBase64String(i):ft.fromUint8Array(i)}var bn="(default)",Sn=class i{constructor(e,s){this.projectId=e,this.database=s||bn}static empty(){return new i("","")}get isDefaultDatabase(){return this.database===bn}isEqual(e){return e instanceof i&&e.projectId===this.projectId&&e.database===this.database}};var mi="__type__",Fo="__max__";var gi="__vector__",pi="value";function Oo(i){var e,s;return((s=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mi])===null||s===void 0?void 0:s.stringValue)===gi}function Mo(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Fo}var ga={mapValue:{fields:{[mi]:{stringValue:gi},[pi]:{arrayValue:{}}}}};var Rn=class{constructor(e,s=null,a=[],h=[],_=null,v="F",w=null,T=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=h,this.limit=_,this.limitType=v,this.startAt=w,this.endAt=T,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Lo(i){return new Rn(i)}var pa=new Nt(at.comparator);var ya=new Nt(at.comparator);var _a=new Nt(at.comparator),wa=new ke(at.comparator);var va=new ke(H);var Gs,A;(A=Gs||(Gs={}))[A.OK=0]="OK",A[A.CANCELLED=1]="CANCELLED",A[A.UNKNOWN=2]="UNKNOWN",A[A.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",A[A.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",A[A.NOT_FOUND=5]="NOT_FOUND",A[A.ALREADY_EXISTS=6]="ALREADY_EXISTS",A[A.PERMISSION_DENIED=7]="PERMISSION_DENIED",A[A.UNAUTHENTICATED=16]="UNAUTHENTICATED",A[A.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",A[A.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",A[A.ABORTED=10]="ABORTED",A[A.OUT_OF_RANGE=11]="OUT_OF_RANGE",A[A.UNIMPLEMENTED=12]="UNIMPLEMENTED",A[A.INTERNAL=13]="INTERNAL",A[A.UNAVAILABLE=14]="UNAVAILABLE",A[A.DATA_LOSS=15]="DATA_LOSS";var Ia=new Ve([4294967295,4294967295],0);var Oe=class{constructor(){}bt(e,s){this.Dt(e,s),s.vt()}Dt(e,s){if("nullValue"in e)this.Ct(s,5);else if("booleanValue"in e)this.Ct(s,10),s.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(s,15),s.Ft(ne(e.integerValue));else if("doubleValue"in e){let a=ne(e.doubleValue);isNaN(a)?this.Ct(s,13):(this.Ct(s,15),Io(a)?s.Ft(0):s.Ft(a))}else if("timestampValue"in e){let a=e.timestampValue;this.Ct(s,20),typeof a=="string"&&(a=No(a)),s.Mt(`${a.seconds||""}`),s.Ft(a.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,s),this.Ot(s);else if("bytesValue"in e)this.Ct(s,30),s.Nt(ko(e.bytesValue)),this.Ot(s);else if("referenceValue"in e)this.Bt(e.referenceValue,s);else if("geoPointValue"in e){let a=e.geoPointValue;this.Ct(s,45),s.Ft(a.latitude||0),s.Ft(a.longitude||0)}else"mapValue"in e?Mo(e)?this.Ct(s,Number.MAX_SAFE_INTEGER):Oo(e)?this.Lt(e.mapValue,s):(this.kt(e.mapValue,s),this.Ot(s)):"arrayValue"in e?(this.qt(e.arrayValue,s),this.Ot(s)):z(19022,{Qt:e})}xt(e,s){this.Ct(s,25),this.$t(e,s)}$t(e,s){s.Mt(e)}kt(e,s){let a=e.fields||{};this.Ct(s,55);for(let h of Object.keys(a))this.xt(h,s),this.Dt(a[h],s)}Lt(e,s){var a,h;let _=e.fields||{};this.Ct(s,53);let v=pi,w=((h=(a=_[v].arrayValue)===null||a===void 0?void 0:a.values)===null||h===void 0?void 0:h.length)||0;this.Ct(s,15),s.Ft(ne(w)),this.xt(v,s),this.Dt(_[v],s)}qt(e,s){let a=e.values||[];this.Ct(s,50);for(let h of a)this.Dt(h,s)}Bt(e,s){this.Ct(s,37),at.fromName(e).path.forEach(a=>{this.Ct(s,60),this.$t(a,s)})}Ct(e,s){e.Ft(s)}Ot(e){e.Ft(2)}};Oe.Ut=new Oe;var Ta=new Uint8Array(0);var yi=41943040,tt=class i{static withCacheSize(e){return new i(e,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=a}};tt.DEFAULT_COLLECTION_PERCENTILE=10,tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tt.DEFAULT=new tt(yi,tt.DEFAULT_COLLECTION_PERCENTILE,tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tt.DISABLED=new tt(-1,0,0);var qo=1048576;function mn(){return typeof document<"u"?document:null}var Pn=class{constructor(e,s,a=1e3,h=1.5,_=6e4){this.Fi=e,this.timerId=s,this.d_=a,this.E_=h,this.A_=_,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let s=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),h=Math.max(0,s-a);h>0&&J("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.R_} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,h,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Vn=class i{constructor(e,s,a,h,_){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=a,this.op=h,this.removalCallback=_,this.deferred=new vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,s,a,h,_){let v=Date.now()+a,w=new i(e,s,v,h,_);return w.start(a),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new E(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var Ks,Qs;(Qs=Ks||(Ks={})).Fa="default",Qs.Cache="cache";function Uo(i){let e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}var Ws=new Map;var _i="firestore.googleapis.com",Hs=!0,Me=class{constructor(e){var s,a;if(e.host===void 0){if(e.ssl!==void 0)throw new E(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_i,this.ssl=Hs}else this.host=e.host,this.ssl=(s=e.ssl)!==null&&s!==void 0?s:Hs;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yi;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qo)throw new E(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}po("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uo((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(_){if(_.timeoutSeconds!==void 0){if(isNaN(_.timeoutSeconds))throw new E(b.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new E(b.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new E(b.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,h){return a.timeoutSeconds===h.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Le=class{constructor(e,s,a,h){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Me({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new E(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new E(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Me(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new gn;switch(a.type){case"firstParty":return new wn(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new E(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return Rt(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){let a=Ws.get(s);a&&(J("ComponentProvider","Removing Datastore"),Ws.delete(s),a.terminate())})(this),Promise.resolve()}};function wi(i,e,s,a={}){var h;i=wo(i,Le);let _=ns(e),v=i._getSettings(),w=Object.assign(Object.assign({},v),{emulatorOptions:i._getEmulatorOptions()}),T=`${e}:${s}`;_&&(rs(`https://${T}`),is("Firestore",!0)),v.host!==_i&&v.host!==T&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let V=Object.assign(Object.assign({},v),{host:T,ssl:_,emulatorOptions:a});if(!as(V,w)&&(i._setSettings(V),a.mockUserToken)){let G,Q;if(typeof a.mockUserToken=="string")G=a.mockUserToken,Q=O.MOCK_USER;else{G=ss(a.mockUserToken,(h=i._app)===null||h===void 0?void 0:h.options.projectId);let x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new E(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Q=new O(x)}i._authCredentials=new pn(new De(G,Q))}}var Cn=class i{constructor(e,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new i(this.firestore,e,this._query)}},It=class i{constructor(e,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new i(this.firestore,e,this._key)}toJSON(){return{type:i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,a){if(ue(s,i._jsonSchema))return new i(e,a||null,new at(ot.fromString(s.referencePath)))}};It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:k("string",It._jsonSchemaVersion),referencePath:k("string")};var Dn=class i extends Cn{constructor(e,s,a){super(e,s,Lo(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new at(e))}withConverter(e){return new i(this.firestore,e,this._path)}};var Xs="AsyncQueue",qe=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Pn(this,"async_queue_retry"),this.oc=()=>{let a=mn();a&&J(Xs,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;let s=mn();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let s=mn();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let s=new vt;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return Rt(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!vo(e))throw e;J(Xs,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let s=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Zs("INTERNAL UNHANDLED ERROR: ",Js(a)),a}).then(a=>(this.nc=!1,a))));return this._c=s,s}enqueueAfterDelay(e,s,a){this.ac(),this.sc.indexOf(e)>-1&&(s=0);let h=Vn.createAndSchedule(this,e,s,a,_=>this.lc(_));return this.ec.push(h),h}ac(){this.tc&&z(47125,{hc:Js(this.tc)})}verifyOperationInProgress(){}Pc(){return Rt(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let s of this.ec)if(s.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((s,a)=>s.targetTimeMs-a.targetTimeMs);for(let s of this.ec)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let s=this.ec.indexOf(e);this.ec.splice(s,1)}};function Js(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}var xn=class extends Le{constructor(e,s,a,h){super(e,s,a,h),this.type="firestore",this._queue=new qe,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){return Rt(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new qe(e),this._firestoreClient=void 0,yield e}})}};function vi(i,e){let s=typeof i=="object"?i:ms(),a=typeof i=="string"?i:e||bn,h=hs(s,"firestore").getImmediate({identifier:a});if(!h._initialized){let _=es("firestore");_&&wi(h,..._)}return h}var re=class i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new i(ft.fromBase64String(e))}catch(s){throw new E(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new i(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ue(e,i._jsonSchema))return i.fromBase64String(e.bytes)}};re._jsonSchemaVersion="firestore/bytes/1.0",re._jsonSchema={type:k("string",re._jsonSchemaVersion),bytes:k("string")};var Ue=class{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new E(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var se=class i{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new E(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new E(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return H(this._lat,e._lat)||H(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:i._jsonSchemaVersion}}static fromJSON(e){if(ue(e,i._jsonSchema))return new i(e.latitude,e.longitude)}};se._jsonSchemaVersion="firestore/geoPoint/1.0",se._jsonSchema={type:k("string",se._jsonSchemaVersion),latitude:k("number"),longitude:k("number")};var ie=class i{constructor(e){this._values=(e||[]).map(s=>s)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(a,h){if(a.length!==h.length)return!1;for(let _=0;_<a.length;++_)if(a[_]!==h[_])return!1;return!0})(this._values,e._values)}toJSON(){return{type:i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ue(e,i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(s=>typeof s=="number"))return new i(e.vectorValues);throw new E(b.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ie._jsonSchemaVersion="firestore/vectorValue/1.0",ie._jsonSchema={type:k("string",ie._jsonSchemaVersion),vectorValues:k("object")};var Bo=new RegExp("[~\\*/\\[\\]]");function jo(i,e,s){if(e.search(Bo)>=0)throw Ys(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new Ue(...e.split("."))._internalPath}catch{throw Ys(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function Ys(i,e,s,a,h){let _=a&&!a.isEmpty(),v=h!==void 0,w=`Function ${e}() called with invalid data`;s&&(w+=" (via `toFirestore()`)"),w+=". ";let T="";return(_||v)&&(T+=" (found",_&&(T+=` in field ${a}`),v&&(T+=` in document ${h}`),T+=")"),new E(b.INVALID_ARGUMENT,w+i+T)}var Be=class{constructor(e,s,a,h,_){this._firestore=e,this._userDataWriter=s,this._key=a,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Nn(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let s=this._document.data.field(Ii("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}},Nn=class extends Be{data(){return super.data()}};function Ii(i,e){return typeof e=="string"?jo(i,e):e instanceof Ue?e._internalPath:e._delegate._internalPath}var Vt=class{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ct=class i extends Be{constructor(e,s,a,h,_,v){super(e,s,a,h,v),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let s=new Dt(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){let a=this._document.data.field(Ii("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new E(b.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,s={};return s.type=i._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}};Ct._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ct._jsonSchema={type:k("string",Ct._jsonSchemaVersion),bundleSource:k("string","DocumentSnapshot"),bundleName:k("string"),bundle:k("string")};var Dt=class extends Ct{data(e={}){return super.data(e)}},oe=class i{constructor(e,s,a,h){this._firestore=e,this._userDataWriter=s,this._snapshot=h,this.metadata=new Vt(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){let e=[];return this.forEach(s=>e.push(s)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach(a=>{e.call(s,new Dt(this._firestore,this._userDataWriter,a.key,a,new Vt(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new E(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(h,_){if(h._snapshot.oldDocs.isEmpty()){let v=0;return h._snapshot.docChanges.map(w=>{let T=new Dt(h._firestore,h._userDataWriter,w.doc.key,w.doc,new Vt(h._snapshot.mutatedKeys.has(w.doc.key),h._snapshot.fromCache),h.query.converter);return w.doc,{type:"added",doc:T,oldIndex:-1,newIndex:v++}})}{let v=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(w=>_||w.type!==3).map(w=>{let T=new Dt(h._firestore,h._userDataWriter,w.doc.key,w.doc,new Vt(h._snapshot.mutatedKeys.has(w.doc.key),h._snapshot.fromCache),h.query.converter),V=-1,G=-1;return w.type!==0&&(V=v.indexOf(w.doc.key),v=v.delete(w.doc.key)),w.type!==1&&(v=v.add(w.doc),G=v.indexOf(w.doc.key)),{type:$o(w.type),doc:T,oldIndex:V,newIndex:G}})}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new E(b.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=i._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=In.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let s=[],a=[],h=[];return this.docs.forEach(_=>{_._document!==null&&(s.push(_._document),a.push(this._userDataWriter.convertObjectMap(_._document.data.value.mapValue.fields,"previous")),h.push(_.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function $o(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:i})}}oe._jsonSchemaVersion="firestore/querySnapshot/1.0",oe._jsonSchema={type:k("string",oe._jsonSchemaVersion),bundleSource:k("string","QuerySnapshot"),bundleName:k("string"),bundle:k("string")};(function(e,s=!0){(function(h){ae=h})(fs),ls(new us("firestore",(a,{instanceIdentifier:h,options:_})=>{let v=a.getProvider("app").getImmediate(),w=new xn(new yn(a.getProvider("auth-internal")),new vn(v,a.getProvider("app-check-internal")),(function(V,G){if(!Object.prototype.hasOwnProperty.apply(V.options,["projectId"]))throw new E(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sn(V.options.projectId,G)})(v,h),v);return _=Object.assign({useFetchStreams:s},_),w._setSettings(_),w},"PUBLIC").setMultipleInstances(!0)),te(qs,Us,e),te(qs,Us,"esm2017")})();var ce=class{constructor(e){return e}},Ti="firestore",Fn=class{constructor(){return ys(Ti)}};var On=new Lr("angularfire2.firestore-instances");function zo(i,e){let s=ps(Ti,i,e);return s&&new ce(s)}function Go(i){return(e,s)=>{let a=e.runOutsideAngular(()=>i(s));return new ce(a)}}var Ko={provide:Fn,deps:[[new Zt,On]]},Qo={provide:ce,useFactory:zo,deps:[[new Zt,On],vs]};function Ei(i,...e){return te("angularfire",gs.full,"fst"),qr([Qo,Ko,{provide:On,useFactory:Go(i),multi:!0,deps:[Br,Ur,_s,Is,[new Zt,bs],[new Zt,As],...e]}])}var Ai=ws(vi,!0);var bi=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-C4F4AMPU.js").then(i=>i.HomePage)},{path:"add-note",loadComponent:()=>import("./chunk-RSF5Z45O.js").then(i=>i.AddNotePage)},{path:"edit/:id",loadComponent:()=>import("./chunk-ZDBAY2QR.js").then(i=>i.EditNotePage)},{path:"**",redirectTo:"home"},{path:"login",loadComponent:()=>import("./chunk-LVXMH4HO.js").then(i=>i.LoginPage)},{path:"register",loadComponent:()=>import("./chunk-4U7ZMONS.js").then(i=>i.RegisterPage)}];var Si=(()=>{let e=class e{};e.\u0275fac=function(h){return new(h||e)},e.\u0275cmp=jr({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(h,_){h&1&&($r(0,"ion-app"),Gr(1,"ion-router-outlet"),zr())},dependencies:[Zr,Yr],encapsulation:2});let i=e;return i})();var Ri={production:!0,firebase:{apiKey:"AIzaSyCtGuEOeoGD4OOOt2r5wjoQFbWdqMuvZbc",authDomain:"simple-notes-app-55054.firebaseapp.com",projectId:"simple-notes-app-55054",storageBucket:"simple-notes-app-55054.firebasestorage.app",messagingSenderId:"251670521907",appId:"1:251670521907:web:424a1bf4e3c6e61f349b46"}};Kr(Si,{providers:[{provide:Qr,useClass:Jr},ts(),Hr(bi,Xr(Wr)),Ts(()=>Es(Ri.firebase)),Ss(()=>Rs()),Ei(()=>Ai())]});
