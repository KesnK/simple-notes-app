import{a as Z}from"./chunk-BCQSII4J.js";import{A as P,B as _,Ba as K,C as m,Ca as Q,D as o,E as r,G as I,H as p,I as h,Ia as U,J as d,Ja as X,K as u,L as v,La as Y,M as C,N as x,O as M,Q as O,R as S,S as w,W as T,_ as N,ba as D,ea as E,ja as H,la as F,oa as B,pa as z,q as b,qa as W,r as y,ra as L,sa as A,ta as V,ua as j,va as R,w as c,wa as q,xa as G,y as k,ya as J,z as f}from"./chunk-3L7FN3TJ.js";import"./chunk-OAW7DXZK.js";import"./chunk-M2YEVG4H.js";import"./chunk-M2APQA33.js";import"./chunk-M5H3FBXE.js";import"./chunk-UQSJFG5S.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-D7YYRZS5.js";function $(i,a){if(i&1&&(o(0,"ion-select-option",14),d(1),r()),i&2){let s=a.$implicit;m("value",s),c(),v(" ",s," ")}}function ee(i,a){i&1&&(o(0,"p"),d(1,"No notes yet. Tap Add to create one!"),r())}function te(i,a){i&1&&(o(0,"p",18),d(1,"No notes match your search."),r())}function ne(i,a){if(i&1&&(o(0,"div",15),_(1,ee,2,0,"p",16)(2,te,2,0,"p",17),r()),i&2){let s=h();c(),m("ngIf",!s.searchTerm&&s.selectedCategory==="All")}}function oe(i,a){if(i&1){let s=I();o(0,"ion-item-sliding")(1,"ion-item",19),p("click",function(){let l=b(s).$implicit,t=h();return y(t.viewNote(l))}),o(2,"ion-label",20)(3,"h2"),d(4),r(),o(5,"p"),d(6),r(),o(7,"ion-badge",21),d(8),r()()(),o(9,"ion-item-options",22)(10,"ion-item-option",23),p("click",function(){let l=b(s).$implicit,t=h();return y(t.deleteNote(l.id))}),d(11," DELETE "),r()()()}if(i&2){let s=a.$implicit;c(4),u(s.title),c(2),u(s.content),c(2),u(s.category)}}var _e=(()=>{let a=class a{constructor(e,l,t){this.noteService=e,this.router=l,this.renderer=t,this.notes=[],this.allNotes=[],this.categories=[],this.selectedCategory="All",this.searchTerm="",this.isDarkMode=!1,this.trackById=(g,n)=>n.id,this.loadDarkModePreference()}ionViewWillEnter(){this.loadNotes()}loadDarkModePreference(){let e=localStorage.getItem("darkMode");this.isDarkMode=e==="true",this.applyDarkMode()}toggleDarkMode(e){this.isDarkMode=e.detail.checked,localStorage.setItem("darkMode",this.isDarkMode.toString()),this.applyDarkMode()}applyDarkMode(){this.isDarkMode?this.renderer.addClass(document.body,"dark"):this.renderer.removeClass(document.body,"dark")}loadNotes(){let e=this.noteService.getNotesByCategory(this.selectedCategory);this.allNotes=e,this.filterNotes(),this.categories=this.noteService.getAvailableCategories()}onSearch(e){this.searchTerm=e.target.value?.trim().toLowerCase()||"",this.filterNotes()}filterNotes(){let e=this.allNotes;this.searchTerm&&(e=e.filter(l=>l.title.toLowerCase().includes(this.searchTerm)||l.content.toLowerCase().includes(this.searchTerm))),this.notes=e}onCategoryChange(e){this.selectedCategory=e.detail.value,this.loadNotes()}goToAddNote(){this.router.navigate(["/add-note"])}deleteNote(e){confirm("Delete this note?")&&(this.noteService.deleteNote(e),this.loadNotes())}viewNote(e){this.router.navigate(["/edit",e.id])}};a.\u0275fac=function(l){return new(l||a)(f(Z),f(T),f(k))},a.\u0275cmp=P({type:a,selectors:[["app-home"]],decls:19,vars:8,consts:[[3,"translucent"],["color","primary"],["slot","end"],["color","light",3,"ngModelChange","ionChange","ngModel"],[1,"ion-padding"],["placeholder","Search notes...","debounce","300",1,"custom-search",3,"ngModelChange","ionInput","ngModel"],["lines","none",1,"custom-filter-item"],["position","stacked"],["interface","popover",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","ion-text-center ion-padding",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["vertical","bottom","horizontal","end","slot","fixed"],[1,"text-fab",3,"click"],[3,"value"],[1,"ion-text-center","ion-padding"],[4,"ngIf"],["else","",4,"ngIf"],["else",""],["button","",3,"click"],[1,"ion-padding-start"],["color","medium"],["side","end"],["color","danger",3,"click"]],template:function(l,t){l&1&&(o(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),d(3,"My Notes"),r(),o(4,"ion-buttons",2)(5,"ion-toggle",3),M("ngModelChange",function(n){return x(t.isDarkMode,n)||(t.isDarkMode=n),n}),p("ionChange",function(n){return t.toggleDarkMode(n)}),r()()()(),o(6,"ion-content",4)(7,"ion-searchbar",5),M("ngModelChange",function(n){return x(t.searchTerm,n)||(t.searchTerm=n),n}),p("ionInput",function(n){return t.onSearch(n)}),r(),o(8,"ion-item",6)(9,"ion-label",7),d(10,"Filter by Category"),r(),o(11,"ion-select",8),M("ngModelChange",function(n){return x(t.selectedCategory,n)||(t.selectedCategory=n),n}),p("ionChange",function(n){return t.onCategoryChange(n)}),_(12,$,2,2,"ion-select-option",9),r()(),_(13,ne,3,1,"div",10),o(14,"ion-list"),_(15,oe,12,3,"ion-item-sliding",11),r(),o(16,"ion-fab",12)(17,"ion-fab-button",13),p("click",function(){return t.goToAddNote()}),d(18," Add "),r()()()),l&2&&(m("translucent",!0),c(5),C("ngModel",t.isDarkMode),c(2),C("ngModel",t.searchTerm),c(4),C("ngModel",t.selectedCategory),c(),m("ngForOf",t.categories),c(),m("ngIf",t.notes.length===0),c(2),m("ngForOf",t.notes)("ngForTrackBy",t.trackById))},dependencies:[w,O,S,E,N,D,L,Q,K,B,G,A,q,H,z,W,F,X,J,U,Y,R,j,V],styles:[".search-filter-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin:0 18px 18px;flex-wrap:wrap}.custom-search[_ngcontent-%COMP%]{flex:1}.custom-filter-item[_ngcontent-%COMP%]{flex:0 0 180px;border-radius:16px;background:var(--ion-item-background, #fff);box-shadow:0 4px 10px #0000001f;--inner-padding-start: 14px;--inner-padding-end: 14px;--min-height: 60px}.custom-filter-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1.1rem}.custom-filter-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{font-size:1.1rem}@media (max-width: 500px){.search-filter-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:14px;margin:0 12px 20px}}ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color, #f4f4f4)}ion-item[_ngcontent-%COMP%]{--padding-start: 20px;--inner-padding-end: 20px;border-radius:16px;margin:12px;--min-height: 100px;box-shadow:0 4px 10px #0000001a;background:var(--ion-item-background, #fff);transition:transform .15s ease}ion-item[_ngcontent-%COMP%]:active{transform:scale(.98)}ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;margin-bottom:6px}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--ion-color-medium);margin:0 0 6px;line-height:1.5}ion-badge[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px;border-radius:10px}ion-searchbar[_ngcontent-%COMP%]{--border-radius: 16px;--box-shadow: 0 4px 12px rgba(0, 0, 0, .15);font-size:1.15rem;height:60px}ion-toggle[_ngcontent-%COMP%]{--background: #666;--background-checked: #3880ff;--handle-background-checked: white;transform:scale(1.2)}.text-fab[_ngcontent-%COMP%]{--size: 78px;--background: #2196f3;--background-activated: #1976d2;--box-shadow: 0 6px 14px rgba(0, 0, 0, .35);--border-radius: 50%;margin:22px;font-weight:700;font-size:20px;text-transform:uppercase;color:#fff}.empty-state[_ngcontent-%COMP%]{text-align:center;margin-top:60px;color:var(--ion-color-medium)}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:80px;margin-bottom:24px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3rem;line-height:1.6}body.dark[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{background:#2a2a2a;color:#fff}body[_ngcontent-%COMP%]:not(.dark)   ion-item[_ngcontent-%COMP%]{background:#fff;color:#000}"]});let i=a;return i})();export{_e as HomePage};
